{"ts":1357787301576,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"define(['SocialNetView', 'text!templates/contact.html'], function(SocialNetView, contactTemplate) {\n  var contactView = SocialNetView.extend({\n    addButton: false,\n\n    removeButton: false,\n\n    tagName: 'li',\n\n    events: {\n      \"click .addbutton\": \"addContact\",\n      \"click .removebutton\": \"removeContact\"\n    },\n\n    addContact: function() {\n      var $responseArea = this.$('.actionArea');\n      $.post('/accounts/me/contact',\n        {contactId: this.model.get('_id')},\n        function onSuccess() {\n          $responseArea.text('Contact Added');\n        }, function onError() {\n          $responseArea.text('Could not add contact');\n        }\n      );\n    },\n\n    removeContact: function() {\n      var $responseArea = this.$('.actionarea');\n      $responseArea.text('Removing contact...');\n      $.ajax({\n        url: '/accounts/me/contact',\n        type: 'DELETE',\n        data: {\n          contactId: this.model.get('accountId')\n        }}).done(function onSuccess() {\n          $responseArea.text('Contact Removed');\n        }).fail(function onError() {\n          $responseArea.text('Could not remove contact');\n        });\n    },\n\n    initialize: function() {\n      // Set the addButton variable in case it has been added in the constructor\n      if ( this.options.addButton ) {\n        this.addButton = this.options.addButton;\n      }\n\n      if ( this.options.removeButton ) {\n        this.removeButton = this.options.removeButton;\n      }\n    },\n\n    render: function() {\n      $(this.el).html(_.template(contactTemplate, {\n        model: this.model.toJSON(),\n        addButton: this.addButton,\n        removeButton: this.removeButton\n      }));\n      return this;\n    }\n  });\n\n  return contactView;\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":1720}]],"length":1720}
{"contributors":[],"silentsave":false,"ts":1357787697279,"patch":[[{"diffs":[[0,"t: function() {\n"],[1,"        console.log()\n"],[0,"      var $respo"]],"start1":332,"start2":332,"length1":32,"length2":54}]],"length":1742,"saved":false}
{"ts":1357788205422,"patch":[[{"diffs":[[0,"ole.log("],[-1,")"],[1,"'inside addContact');"],[0,"\n      v"]],"start1":360,"start2":360,"length1":17,"length2":37}]],"length":1762,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358101667630,"patch":[[{"diffs":[[0,"og('"],[-1,"inside"],[1,"client->"],[0," add"]],"start1":365,"start2":365,"length1":14,"length2":16},{"diffs":[[0,"dContact');\n"],[1,"  "],[0,"      var $r"]],"start1":380,"start2":380,"length1":24,"length2":26},{"diffs":[[0,");\n     "],[1,"   var posted ="],[0," $.post("]],"start1":440,"start2":440,"length1":16,"length2":31},{"diffs":[[0,"ontact',"],[-1,"\n       "],[0," {contac"]],"start1":486,"start2":486,"length1":24,"length2":16},{"diffs":[[0,"('_id')}"],[-1,","],[1,");"],[0,"\n       "]],"start1":521,"start2":521,"length1":17,"length2":18},{"diffs":[[0,"        "],[1,"posted.done("],[0,"function"]],"start1":532,"start2":532,"length1":16,"length2":28},{"diffs":[[0,"ne(function "],[-1,"onSuccess"],[0,"() {\n       "]],"start1":549,"start2":549,"length1":33,"length2":24},{"diffs":[[0,"       }"],[-1,", "],[1,");\n        posted.fail("],[0,"function"]],"start1":614,"start2":614,"length1":18,"length2":39},{"diffs":[[0,"d.fail(function "],[-1,"onError"],[0,"() {\n          $"]],"start1":638,"start2":638,"length1":39,"length2":32}]],"length":1791,"saved":false}
{"ts":1358102143556,"patch":[[{"diffs":[[0,"e(function () {\n"],[1,"          console.log('addContact->Success');\n"],[0,"          $respo"]],"start1":550,"start2":550,"length1":32,"length2":78},{"diffs":[[0,"tact Added')"],[1,".show()"],[0,";\n        })"]],"start1":645,"start2":645,"length1":24,"length2":31}]],"length":1844,"saved":false}
{"ts":1358102350385,"patch":[[{"diffs":[[0,"  $responseArea."],[-1,"text"],[1,"html"],[0,"('Contact Added'"]],"start1":620,"start2":620,"length1":36,"length2":36}]],"length":1844,"saved":false}
{"ts":1358102515890,"patch":[[{"diffs":[[0,"'.action"],[-1,"A"],[1,"a"],[0,"rea');\n "]],"start1":427,"start2":427,"length1":17,"length2":17},{"diffs":[[0,"ed')"],[-1,".show()"],[0,";\n  "]],"start1":653,"start2":653,"length1":15,"length2":8}]],"length":1837,"saved":false}
{"ts":1358102646367,"patch":[[{"diffs":[[0,"nseArea."],[-1,"html"],[1,"text"],[0,"('Contac"]],"start1":628,"start2":628,"length1":20,"length2":20},{"diffs":[[0,"ct Added"],[-1,"'"],[1,": ' +this.model.get('name')"],[0,");\n     "]],"start1":647,"start2":647,"length1":17,"length2":43}]],"length":1863,"saved":false}
{"ts":1358102832056,"patch":[[{"diffs":[[0,"> addContact');\n"],[1,"        var that=this;\n"],[0,"        var $res"]],"start1":376,"start2":376,"length1":32,"length2":55},{"diffs":[[0,"d: ' +th"],[-1,"is"],[1,"at"],[0,".model.g"]],"start1":677,"start2":677,"length1":18,"length2":18}]],"length":1886,"saved":false}
{"ts":1358103057254,"patch":[[{"diffs":[[0,"et('name"],[1,".first"],[0,"'));\n   "]],"start1":695,"start2":695,"length1":16,"length2":22}]],"length":1892,"saved":false}
{"ts":1358103139400,"patch":[[{"diffs":[[0,"name"],[1,"')"],[0,".first"],[-1,"')"],[0,");\n "]],"start1":699,"start2":699,"length1":16,"length2":16}]],"length":1892,"saved":false}
{"ts":1358110077374,"patch":[[{"diffs":[[0,"ton: false,\n"],[-1,"\n"],[0,"    removeBu"]],"start1":153,"start2":153,"length1":25,"length2":24},{"diffs":[[0," false,\n"],[-1,"\n"],[0,"    tagN"]],"start1":182,"start2":182,"length1":17,"length2":16},{"diffs":[[0,") {\n"],[-1,"        console.log('client-> addContact');\n"],[0,"    "]],"start1":342,"start2":342,"length1":52,"length2":8},{"diffs":[[0,"r that=this;"],[1,"  // callback context"],[0,"\n        var"]],"start1":356,"start2":356,"length1":24,"length2":45},{"diffs":[[0,"tionarea');\n"],[1,"        // deferred\n"],[0,"        var "]],"start1":429,"start2":429,"length1":24,"length2":44},{"diffs":[[0,"e(function () {\n"],[-1,""],[0,"          consol"]],"start1":568,"start2":568,"length1":32,"length2":32},{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":586,"start2":586,"length1":16,"length2":18},{"diffs":[[0,"ion "],[-1,"onSuccess"],[0,"() {"]],"start1":1132,"start2":1132,"length1":17,"length2":8},{"diffs":[[0,"ion "],[-1,"onError"],[0,"() {"]],"start1":1211,"start2":1211,"length1":15,"length2":8}]],"length":1873,"saved":false}
{"ts":1358110488888,"patch":[[{"diffs":[[0,"late) {\n"],[1,"  "],[0,"  var co"]],"start1":92,"start2":92,"length1":16,"length2":18},{"diffs":[[0,"xtend({\n"],[1,"    "],[0,"    addB"]],"start1":137,"start2":137,"length1":16,"length2":20},{"diffs":[[0,"ton: false,\n"],[1,"    "],[0,"    removeBu"]],"start1":159,"start2":159,"length1":24,"length2":28},{"diffs":[[0,"se,\n    "],[1," "],[1,"   "],[0,"tagName:"]],"start1":196,"start2":196,"length1":16,"length2":20},{"diffs":[[0,"',\n\n    "],[1,"   "],[1," "],[0,"events: "]],"start1":220,"start2":220,"length1":16,"length2":20},{"diffs":[[0,"ts: {\n      "],[1,"    "],[1,"  "],[0,"\"click .addb"]],"start1":236,"start2":236,"length1":24,"length2":30},{"diffs":[[0,"ntact\",\n"],[1,"      "],[0,"      \"c"]],"start1":280,"start2":280,"length1":16,"length2":22},{"diffs":[[0,"ontact\"\n    "],[1,"   "],[1," "],[0,"},\n\n"],[1,"    "],[0,"    addConta"]],"start1":331,"start2":331,"length1":28,"length2":36},{"diffs":[[0,"    "],[1,"    "],[0,"var that"],[-1,"="],[1," = "],[0,"this;"],[-1," "],[0," // "]],"start1":388,"start2":388,"length1":23,"length2":28},{"diffs":[[0,"context\n"],[1,"    "],[0,"        "]],"start1":425,"start2":425,"length1":16,"length2":20},{"diffs":[[0,"        "],[1,"    "],[0,"// defer"]],"start1":488,"start2":488,"length1":16,"length2":20},{"diffs":[[0,"red\n        "],[1," "],[1,"   "],[0,"var posted ="]],"start1":508,"start2":508,"length1":24,"length2":28},{"diffs":[[0,"tact', {"],[1,"\n                "],[0,"contactI"]],"start1":561,"start2":561,"length1":16,"length2":33},{"diffs":[[0,"t('_id')"],[-1,"});\n"],[1,"\n            });\n    "],[0,"        "]],"start1":610,"start2":610,"length1":20,"length2":37},{"diffs":[[0,"ed.done(function"],[-1," "],[0,"() {\n          /"]],"start1":651,"start2":651,"length1":33,"length2":32},{"diffs":[[0,"        "],[1,"     "],[1," "],[0,"//consol"]],"start1":674,"start2":674,"length1":16,"length2":22},{"diffs":[[0,"ss');\n          "],[1,"     "],[1," "],[0,"$responseArea.te"]],"start1":720,"start2":720,"length1":32,"length2":38},{"diffs":[[0,"ded: ' +"],[1," "],[0,"that.mod"]],"start1":772,"start2":772,"length1":16,"length2":17},{"diffs":[[0,"first);\n        "],[1,"   "],[1," "],[0,"});\n"],[1,"    "],[0,"        posted.f"]],"start1":804,"start2":804,"length1":36,"length2":44},{"diffs":[[0,"ed.fail(function"],[-1," "],[0,"() {\n"],[1,"      "],[0,"          $respo"]],"start1":844,"start2":844,"length1":38,"length2":43},{"diffs":[[0,"    "],[-1,"  }\n"],[0,"      "],[1,"}"],[0,");\n"],[1,"    "],[0,"    },\n\n"],[1,"    "],[0,"    "]],"start1":928,"start2":928,"length1":29,"length2":34},{"diffs":[[0,"unction() {\n"],[1,"      "],[0,"      var $r"]],"start1":978,"start2":978,"length1":24,"length2":30},{"diffs":[[0,"ea');\n      "],[1," "],[1,"     "],[0,"$responseAre"]],"start1":1039,"start2":1039,"length1":24,"length2":30},{"diffs":[[0,"ntact...');\n"],[1,"      "],[0,"      $.ajax"]],"start1":1088,"start2":1088,"length1":24,"length2":30},{"diffs":[[0,".ajax({\n"],[1,"        "],[0,"        "]],"start1":1113,"start2":1113,"length1":16,"length2":24},{"diffs":[[0,"ntact',\n"],[1,"        "],[0,"        "]],"start1":1158,"start2":1158,"length1":16,"length2":24},{"diffs":[[0,"    "],[1,"     "],[1,"   "],[0,"data: {\n"],[1,"          "],[0,"    "]],"start1":1202,"start2":1202,"length1":16,"length2":34},{"diffs":[[0,"        "],[-1,"}"],[1,"        }\n            "],[0,"}).done("]],"start1":1281,"start2":1281,"length1":17,"length2":38},{"diffs":[[0,"}).done(function"],[-1," "],[0,"() {\n"],[1,"      "],[0,"          $respo"]],"start1":1311,"start2":1311,"length1":38,"length2":43},{"diffs":[[0,"        "],[1,"  "],[1,"  "],[0,"}).fail("]],"start1":1387,"start2":1387,"length1":16,"length2":20},{"diffs":[[0,"tion"],[-1," "],[0,"() {\n"],[1,"      "],[0,"    "]],"start1":1411,"start2":1411,"length1":14,"length2":19},{"diffs":[[0,"    "],[1,"  "],[1,"  "],[0,"});\n    "],[1,"   "],[1," "],[0,"},\n\n"],[1,"    "],[0,"    "]],"start1":1488,"start2":1488,"length1":20,"length2":32},{"diffs":[[0,"{\n      "],[1," "],[1,"     "],[0,"// Set t"]],"start1":1543,"start2":1543,"length1":16,"length2":22},{"diffs":[[0,"tructor\n"],[1,"      "],[0,"      if"]],"start1":1624,"start2":1624,"length1":16,"length2":22},{"diffs":[[0,"            if ("],[-1," "],[0,"this.options.add"]],"start1":1632,"start2":1632,"length1":33,"length2":32},{"diffs":[[0,"ns.addButton"],[-1," "],[0,") {\n"],[1,"        "],[0,"        this"]],"start1":1658,"start2":1658,"length1":29,"length2":36},{"diffs":[[0,"    "],[-1,"}\n\n"],[1,"      }\n\n     "],[0,"      "],[1," "],[0,"if ("],[-1," "],[0,"this"]],"start1":1733,"start2":1733,"length1":22,"length2":33},{"diffs":[[0,"tton"],[-1," "],[0,") {\n"],[1,"        "],[0,"    "]],"start1":1783,"start2":1783,"length1":13,"length2":20},{"diffs":[[0,"Button;\n"],[1,"      "],[0,"      }\n"],[1,"    "],[0,"    },\n\n"]],"start1":1846,"start2":1846,"length1":24,"length2":34},{"diffs":[[0,"},\n\n    "],[1," "],[1,"   "],[0,"render: "]],"start1":1876,"start2":1876,"length1":16,"length2":20},{"diffs":[[0,"unction() {\n"],[1,"      "],[0,"      $(this"]],"start1":1897,"start2":1897,"length1":24,"length2":30},{"diffs":[[0,"        "],[1," "],[1,"       "],[0,"model: t"]],"start1":1967,"start2":1967,"length1":16,"length2":24},{"diffs":[[0,"JSON(),\n        "],[1,"    "],[1,"    "],[0,"addButton: this."]],"start1":2003,"start2":2003,"length1":32,"length2":40},{"diffs":[[0,"Button,\n        "],[1,"       "],[1," "],[0,"removeButton: th"]],"start1":2046,"start2":2046,"length1":32,"length2":40},{"diffs":[[0,"eButton\n"],[1,"      "],[0,"      })"]],"start1":2094,"start2":2094,"length1":16,"length2":22},{"diffs":[[0,";\n      "],[1,"    "],[1,"  "],[0,"return t"]],"start1":2117,"start2":2117,"length1":16,"length2":22},{"diffs":[[0,"    "],[1,"   "],[1," "],[0,"}\n"],[1,"  "],[0,"  });\n\n"],[1,"  "],[0,"  re"]],"start1":2144,"start2":2144,"length1":17,"length2":25}]],"length":2191,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364762878345,"patch":[[{"diffs":[[0,"d.done(function("],[1,"data"],[0,") {\n            "]],"start1":652,"start2":652,"length1":32,"length2":36},{"diffs":[[0,"        "],[-1,"//"],[0,"console."]],"start1":684,"start2":684,"length1":18,"length2":16},{"diffs":[[0,"Success'"],[1," + data"],[0,");\n     "]],"start1":717,"start2":717,"length1":16,"length2":23},{"diffs":[[0,"        "],[1," var ajax ="],[0," $.ajax("]],"start1":1112,"start2":1112,"length1":16,"length2":27},{"diffs":[[0,"      })"],[1,";\n            \n            ajax"],[0,".done(fu"]],"start1":1325,"start2":1325,"length1":16,"length2":47},{"diffs":[[0," Removed');\n"],[-1,""],[0,"            "]],"start1":1426,"start2":1426,"length1":24,"length2":24},{"diffs":[[0,"      })"],[1,";\n            \n            ajax"],[0,".fail(fu"]],"start1":1444,"start2":1444,"length1":16,"length2":47}]],"length":2273,"saved":false}
