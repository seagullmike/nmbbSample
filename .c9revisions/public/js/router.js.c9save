{"ts":1357692150837,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"define(['views/index', 'views/register', 'views/login',\n        'views/forgotpassword', 'views/profile', 'views/contacts',\n        'views/addcontact', 'models/Account', 'models/StatusCollection',\n        'models/ContactCollection'],\nfunction(IndexView, RegisterView, LoginView, ForgotPasswordView, ProfileView,\n         ContactsView, AddContactView, Account, StatusCollection,\n         ContactCollection) {\n  var SocialRouter = Backbone.Router.extend({\n    currentView: null,\n\n    socketEvents: _.extend({}, Backbone.Events),\n\n    routes: {\n      'addcontact': 'addcontact',\n      'index': 'index',\n      'login': 'login',\n      'register': 'register',\n      'forgotpassword': 'forgotpassword',\n      'profile/:id': 'profile',\n      'contacts/:id': 'contacts'\n    },\n\n    changeView: function(view) {\n      if ( null != this.currentView ) {\n        this.currentView.undelegateEvents();\n      }\n      this.currentView = view;\n      this.currentView.render();\n    },\n\n    index: function() {\n      var statusCollection = new StatusCollection();\n      statusCollection.url = '/accounts/me/activity';\n      this.changeView(new IndexView({\n        collection: statusCollection,\n        socketEvents:this.socketEvents\n      }));\n      statusCollection.fetch();\n    },\n\n    addcontact: function() {\n      this.changeView(new AddContactView());\n    },\n\n    login: function() {\n      this.changeView(new LoginView({socketEvents:this.socketEvents}));\n    },\n\n    forgotpassword: function() {\n      this.changeView(new ForgotPasswordView());\n    },\n\n    register: function() {\n      this.changeView(new RegisterView());\n    },\n\n    profile: function(id) {\n      var model = new Account({id:id});\n      this.changeView(new ProfileView({model:model, socketEvents:this.socketEvents}));\n      model.fetch();\n    },\n\n    contacts: function(id) {\n      var contactId = id ? id : 'me';\n      var contactsCollection = new ContactCollection();\n      contactsCollection.url = '/accounts/' + contactId + '/contacts';\n      this.changeView(new ContactsView({\n        collection: contactsCollection\n      }));\n      contactsCollection.fetch();\n    }\n  });\n\n  return new SocialRouter();\n});\n\n"]],"start1":0,"start2":0,"length1":0,"length2":2167}]],"length":2167}
{"contributors":[],"silentsave":false,"ts":1357705725373,"patch":[[{"diffs":[[0," null !="],[1,"="],[0," this.cu"]],"start1":811,"start2":811,"length1":16,"length2":17}]],"length":2168,"saved":false}
{"contributors":[],"silentsave":false,"ts":1357784331295,"patch":[[{"diffs":[[0," function(id) {\n"],[1,"        console.log(id+ 'contacts router');\n"],[0,"      var contac"]],"start1":1815,"start2":1815,"length1":32,"length2":76}]],"length":2212,"saved":false}
{"ts":1357784544322,"patch":[[{"diffs":[[0,"og(id+ '"],[1," "],[0,"contacts"]],"start1":1848,"start2":1848,"length1":16,"length2":17}]],"length":2213,"saved":false}
{"contributors":[],"silentsave":false,"ts":1357785277213,"patch":[[{"diffs":[[0,"ts route"],[-1,"r"],[0,""],[1,""],[0,"');\n    "]],"start1":1863,"start2":1863,"length1":17,"length2":16},{"diffs":[[0,"     var contact"],[-1,"s"],[0,"Collection = new"]],"start1":1914,"start2":1914,"length1":33,"length2":32},{"diffs":[[0,");\n      contact"],[-1,"s"],[0,"Collection.url ="]],"start1":1965,"start2":1965,"length1":33,"length2":32},{"diffs":[[0,"tacts';\n"],[1,"      console.log(contactCollection.url);\n"],[0,"      th"]],"start1":2030,"start2":2030,"length1":16,"length2":58},{"diffs":[[0,"lection: contact"],[-1,"s"],[0,"Collection\n     "]],"start1":2132,"start2":2132,"length1":33,"length2":32},{"diffs":[[0," contact"],[-1,"s"],[0,"Collecti"]],"start1":2175,"start2":2175,"length1":17,"length2":16}]],"length":2250,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358110489097,"patch":[[{"diffs":[[0,"/login',"],[-1,"\n       "],[0," 'views/"]],"start1":47,"start2":47,"length1":24,"length2":16},{"diffs":[[0,"ntacts',"],[-1,"\n       "],[0," 'views/"]],"start1":106,"start2":106,"length1":24,"length2":16},{"diffs":[[0,"ection',"],[-1,"\n       "],[0," 'models"]],"start1":171,"start2":171,"length1":24,"length2":16},{"diffs":[[0,"tion'],\n"],[1,"\n"],[0,"function"]],"start1":201,"start2":201,"length1":16,"length2":17},{"diffs":[[0,"leView,\n"],[-1,"         "],[0,"Contacts"]],"start1":280,"start2":280,"length1":25,"length2":16},{"diffs":[[0,"on,\n"],[-1,"         "],[0,"Cont"]],"start1":341,"start2":341,"length1":17,"length2":8},{"diffs":[[0,"on) {\n  "],[1," "],[1," "],[0,"var Soci"]],"start1":360,"start2":360,"length1":16,"length2":18},{"diffs":[[0,"xtend({\n"],[1,"    "],[0,"    curr"]],"start1":406,"start2":406,"length1":16,"length2":20},{"diffs":[[0," null,\n\n    "],[1,"  "],[1,"  "],[0,"socketEvents"]],"start1":434,"start2":434,"length1":24,"length2":28},{"diffs":[[0,"ents),\n\n"],[1,"    "],[0,"    rout"]],"start1":488,"start2":488,"length1":16,"length2":20},{"diffs":[[0,"{\n      "],[1," "],[1,"     "],[0,"'addcont"]],"start1":512,"start2":512,"length1":16,"length2":22},{"diffs":[[0,"ntact',\n"],[1,"      "],[0,"      'i"]],"start1":546,"start2":546,"length1":16,"length2":22},{"diffs":[[0,",\n      "],[1,"    "],[1,"  "],[0,"'login':"]],"start1":582,"start2":582,"length1":16,"length2":22},{"diffs":[[0,",\n      "],[1,"     "],[1," "],[0,"'registe"]],"start1":612,"start2":612,"length1":16,"length2":22},{"diffs":[[0,"ister',\n"],[1,"      "],[0,"      'f"]],"start1":642,"start2":642,"length1":16,"length2":22},{"diffs":[[0,"sword',\n"],[1,"      "],[0,"      'p"]],"start1":690,"start2":690,"length1":16,"length2":22},{"diffs":[[0,",\n      "],[1," "],[1,"     "],[0,"'contact"]],"start1":734,"start2":734,"length1":16,"length2":22},{"diffs":[[0,"ntacts'\n    "],[1,"  "],[1,"  "],[0,"},\n\n"],[1,"    "],[0,"    changeVi"]],"start1":767,"start2":767,"length1":28,"length2":36},{"diffs":[[0,"    "],[1," "],[1,"     "],[0,"if ("],[-1," "],[0,"null"]],"start1":826,"start2":826,"length1":13,"length2":18},{"diffs":[[0,"View"],[-1," "],[0,") {\n"],[1,"        "],[0,"    "]],"start1":861,"start2":861,"length1":13,"length2":20},{"diffs":[[0,"teEvents();\n"],[1,"      "],[0,"      }\n    "]],"start1":910,"start2":910,"length1":24,"length2":30},{"diffs":[[0,"    }\n      "],[1," "],[1,"     "],[0,"this.current"]],"start1":930,"start2":930,"length1":24,"length2":30},{"diffs":[[0,"view;\n      "],[1,"  "],[1,"    "],[0,"this.current"]],"start1":967,"start2":967,"length1":24,"length2":30},{"diffs":[[0,"nder();\n    "],[1,"   "],[1," "],[0,"},\n\n"],[1,"    "],[0,"    index: f"]],"start1":1004,"start2":1004,"length1":28,"length2":36},{"diffs":[[0,"unction() {\n"],[1,"      "],[0,"      var st"]],"start1":1040,"start2":1040,"length1":24,"length2":30},{"diffs":[[0,"ection();\n      "],[1,"    "],[1,"  "],[0,"statusCollection"]],"start1":1101,"start2":1101,"length1":32,"length2":38},{"diffs":[[0,"ivity';\n"],[1,"      "],[0,"      th"]],"start1":1163,"start2":1163,"length1":16,"length2":22},{"diffs":[[0,"xView({\n        "],[1,"      "],[1,"  "],[0,"collection: stat"]],"start1":1207,"start2":1207,"length1":32,"length2":40},{"diffs":[[0,"ection,\n        "],[1,"      "],[1,"  "],[0,"socketEvents:thi"]],"start1":1253,"start2":1253,"length1":32,"length2":40},{"diffs":[[0,"   socketEvents:"],[1," "],[0,"this.socketEvent"]],"start1":1274,"start2":1274,"length1":32,"length2":33},{"diffs":[[0,"vents\n      "],[1,"    "],[1,"  "],[0,"}));\n"],[1,"      "],[0,"      status"]],"start1":1303,"start2":1303,"length1":29,"length2":41},{"diffs":[[0,"ection.fetch();\n"],[1,"    "],[0,"    },\n\n    addc"]],"start1":1348,"start2":1348,"length1":32,"length2":36},{"diffs":[[0,"},\n\n    "],[1,"  "],[1,"  "],[0,"addconta"]],"start1":1372,"start2":1372,"length1":16,"length2":20},{"diffs":[[0,"t: function() {\n"],[1,"      "],[0,"      this.chang"]],"start1":1393,"start2":1393,"length1":32,"length2":38},{"diffs":[[0,"ContactView());\n"],[1,"    "],[0,"    },\n\n    logi"]],"start1":1444,"start2":1444,"length1":32,"length2":36},{"diffs":[[0,"},\n\n    "],[1,"  "],[1,"  "],[0,"login: f"]],"start1":1468,"start2":1468,"length1":16,"length2":20},{"diffs":[[0,"n: function() {\n"],[1,"      "],[0,"      this.chang"]],"start1":1484,"start2":1484,"length1":32,"length2":38},{"diffs":[[0,"inView({"],[1,"\n                "],[0,"socketEv"]],"start1":1535,"start2":1535,"length1":16,"length2":33},{"diffs":[[0,"   socketEvents:"],[1," "],[0,"this.socketEvent"]],"start1":1557,"start2":1557,"length1":32,"length2":33},{"diffs":[[0,"ents"],[1,"\n            "],[0,"}));\n"],[1,"    "],[0,"    },\n\n"],[1,"    "],[0,"    "]],"start1":1587,"start2":1587,"length1":21,"length2":42},{"diffs":[[0,"d: function() {\n"],[1,"      "],[0,"      this.chang"]],"start1":1642,"start2":1642,"length1":32,"length2":38},{"diffs":[[0,"asswordView());\n"],[1,"    "],[0,"    },\n\n    regi"]],"start1":1697,"start2":1697,"length1":32,"length2":36},{"diffs":[[0,"},\n\n    "],[1," "],[1,"   "],[0,"register"]],"start1":1721,"start2":1721,"length1":16,"length2":20},{"diffs":[[0,"unction() {\n"],[1,"      "],[0,"      this.c"]],"start1":1744,"start2":1744,"length1":24,"length2":30},{"diffs":[[0,"terView());\n"],[1,"    "],[0,"    },\n\n    "]],"start1":1793,"start2":1793,"length1":24,"length2":28},{"diffs":[[0,"},\n\n    "],[1," "],[1,"   "],[0,"profile:"]],"start1":1813,"start2":1813,"length1":16,"length2":20},{"diffs":[[0,"id) {\n      "],[1,"     "],[1," "],[0,"var model = "]],"start1":1843,"start2":1843,"length1":24,"length2":30},{"diffs":[[0,"nt({"],[1,"\n                "],[0,"id:"],[1," "],[0,"id"],[-1,"});\n"],[1,"\n            });\n      "],[0,"    "]],"start1":1882,"start2":1882,"length1":17,"length2":54},{"diffs":[[0,"ew({"],[1,"\n                "],[0,"model:"],[1," "],[0,"model,"],[1,"\n               "],[0," soc"]],"start1":1967,"start2":1967,"length1":20,"length2":54},{"diffs":[[0,"tEvents:"],[1," "],[0,"this.soc"]],"start1":2023,"start2":2023,"length1":16,"length2":17},{"diffs":[[0,"etEvents"],[-1,"}));\n"],[1,"\n            }));\n      "],[0,"      mo"]],"start1":2041,"start2":2041,"length1":21,"length2":40},{"diffs":[[0,"etch();\n    "],[1," "],[1,"   "],[0,"},\n\n"],[1,"    "],[0,"    contacts"]],"start1":2086,"start2":2086,"length1":28,"length2":36},{"diffs":[[0,") {\n        "],[1,"    "],[0,"console.log("]],"start1":2135,"start2":2135,"length1":24,"length2":28},{"diffs":[[0,"e.log(id"],[1," "],[0,"+ ' cont"]],"start1":2157,"start2":2157,"length1":16,"length2":17},{"diffs":[[0," route');\n      "],[1,"  "],[1,"    "],[0,"var contactId = "]],"start1":2178,"start2":2178,"length1":32,"length2":38},{"diffs":[[0,": 'me';\n"],[1,"      "],[0,"      va"]],"start1":2224,"start2":2224,"length1":16,"length2":22},{"diffs":[[0,"ection();\n      "],[1,"     "],[1," "],[0,"contactCollectio"]],"start1":2283,"start2":2283,"length1":32,"length2":38},{"diffs":[[0,"tacts';\n"],[1,"      "],[0,"      co"]],"start1":2361,"start2":2361,"length1":16,"length2":22},{"diffs":[[0,"n.url);\n"],[1,"      "],[0,"      th"]],"start1":2409,"start2":2409,"length1":16,"length2":22},{"diffs":[[0,"sView({\n        "],[1," "],[1,"       "],[0,"collection: cont"]],"start1":2456,"start2":2456,"length1":32,"length2":40},{"diffs":[[0,"lection\n"],[1,"      "],[0,"      })"]],"start1":2502,"start2":2502,"length1":16,"length2":22},{"diffs":[[0," }));\n      "],[1," "],[1,"     "],[0,"contactColle"]],"start1":2521,"start2":2521,"length1":24,"length2":30},{"diffs":[[0,"    "],[1,"  "],[1,"  "],[0,"}\n  "],[1," "],[1," "],[0,"});\n\n"],[1,"  "],[0,"  re"]],"start1":2566,"start2":2566,"length1":17,"length2":25},{"diffs":[[0,"uter();\n});\n"],[-1,"\n"]],"start1":2608,"start2":2608,"length1":13,"length2":12}]],"length":2620,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364748696103,"patch":[[{"diffs":[[0,"ollection.fetch("],[1,"{reset:true}"],[0,");\n        },\n\n "]],"start1":1345,"start2":1345,"length1":32,"length2":44}]],"length":2632,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364749727441,"patch":[[{"diffs":[[0,"ction.fetch("],[1,"{reset:true}"],[0,");\n        }"]],"start1":2563,"start2":2563,"length1":24,"length2":36}]],"length":2644,"saved":false}
{"contributors":[],"silentsave":false,"ts":1364750700838,"patch":[[{"diffs":[[0,") {\n            "],[1,"//"],[0,"console.log(id +"]],"start1":2147,"start2":2147,"length1":32,"length2":34},{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":2387,"start2":2387,"length1":16,"length2":18}]],"length":2648,"saved":false}
