{"ts":1359815088113,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n\nHolder - 1.9 - client side image placeholders\n(c) 2012-2013 Ivan Malopinsky / http://imsky.co\n\nProvided under the Apache 2.0 License: http://www.apache.org/licenses/LICENSE-2.0\nCommercial use requires attribution.\n\n*/\n\nvar Holder = Holder || {};\n(function (app, win) {\n\nvar preempted = false,\nfallback = false,\ncanvas = document.createElement('canvas');\n\n//getElementsByClassName polyfill\ndocument.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\n\n//getComputedStyle polyfill\nwindow.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\n\n//http://javascript.nwbox.com/ContentLoaded by Diego Perini with modifications\nfunction contentLoaded(n,t){var l=\"complete\",s=\"readystatechange\",u=!1,h=u,c=!0,i=n.document,a=i.documentElement,e=i.addEventListener?\"addEventListener\":\"attachEvent\",v=i.addEventListener?\"removeEventListener\":\"detachEvent\",f=i.addEventListener?\"\":\"on\",r=function(e){(e.type!=s||i.readyState==l)&&((e.type==\"load\"?n:i)[v](f+e.type,r,u),!h&&(h=!0)&&t.call(n,null))},o=function(){try{a.doScroll(\"left\")}catch(n){setTimeout(o,50);return}r(\"poll\")};if(i.readyState==l)t.call(n,\"lazy\");else{if(i.createEventObject&&a.doScroll){try{c=!n.frameElement}catch(y){}c&&o()}i[e](f+\"DOMContentLoaded\",r,u),i[e](f+s,r,u),n[e](f+\"load\",r,u)}};\n\n//https://gist.github.com/991057 by Jed Schmidt with modifications\nfunction selector(a){\n    a=a.match(/^(\\W)?(.*)/);var b=document[\"getElement\"+(a[1]?a[1]==\"#\"?\"ById\":\"sByClassName\":\"sByTagName\")](a[2]);\n\tvar ret=[];\tb!=null&&(b.length?ret=b:b.length==0?ret=b:ret=[b]);\treturn ret;\n}\n\n//shallow object property extend\nfunction extend(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}\n\n//hasOwnProperty polyfill\nif (!Object.prototype.hasOwnProperty)\n\tObject.prototype.hasOwnProperty = function(prop) {\n\t\tvar proto = this.__proto__ || this.constructor.prototype;\n\t\treturn (prop in this) && (!(prop in proto) || proto[prop] !== this[prop]);\n\t}\n\nfunction text_size(width, height, template) {\n\tvar dimension_arr = [height, width].sort();\n\tvar maxFactor = Math.round(dimension_arr[1] / 16),\n\t\tminFactor = Math.round(dimension_arr[0] / 16);\n\tvar text_height = Math.max(template.size, maxFactor);\n\treturn {\n\t\theight: text_height\n\t}\n}\n\nfunction draw(ctx, dimensions, template, ratio) {\n\tvar ts = text_size(dimensions.width, dimensions.height, template);\n\tvar text_height = ts.height;\n\tvar width = dimensions.width * ratio, height = dimensions.height * ratio;\n\tvar font = template.font ? template.font : \"sans-serif\";\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tctx.textAlign = \"center\";\n\tctx.textBaseline = \"middle\";\n\tctx.fillStyle = template.background;\n\tctx.fillRect(0, 0, width, height);\n\tctx.fillStyle = template.foreground;\n\tctx.font = \"bold \" + text_height + \"px \"+font;\n\tvar text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n\tif (ctx.measureText(text).width / width > 1) {\n\t\ttext_height = template.size / (ctx.measureText(text).width / width);\n\t}\n\t//Resetting font size if necessary\n\tctx.font = \"bold \" + (text_height * ratio) + \"px \"+font;\n\tctx.fillText(text, (width / 2), (height / 2), width);\n\treturn canvas.toDataURL(\"image/png\");\n}\n\nfunction render(mode, el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text ? decodeURIComponent(holder.text) : holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\ttext: text }) : theme);\n\ttheme = (holder.font ? extend(theme, {font: holder.font}) : theme);\n\n\tvar ratio = 1;\n\tif(window.devicePixelRatio && window.devicePixelRatio > 1){\n\t\tratio = window.devicePixelRatio;\n\t}\n\n\tif (mode == \"image\") {\n\t\tel.setAttribute(\"data-src\", src);\n\t\tel.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\t\t\n\t\tif(fallback || !holder.auto){\n\t\t    el.style.width = dimensions.width + \"px\";\n\t\t    el.style.height = dimensions.height + \"px\";\n\t\t}\n\t\n\t\tif (fallback) {\n\t\t\tel.style.backgroundColor = theme.background;\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tel.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n\t\t}\n\t} else {\n\t\tif (!fallback) {\n\t\t\tel.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n\t\t\tel.style.backgroundSize = dimensions.width+\"px \"+dimensions.height+\"px\";\n\t\t}\n\t}\n};\n\nfunction fluid(el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar fluid = document.createElement(\"div\");\n\n\tfluid.style.backgroundColor = theme.background;\n\tfluid.style.color = theme.foreground;\n\tfluid.className = el.className + \" holderjs-fluid\";\n\tfluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.id = el.id;\n\t\n\tel.style.width=0;\n\tel.style.height=0;\n\t\n\tif (theme.text) {\n\t\tfluid.appendChild(document.createTextNode(theme.text))\n\t} else {\n\t\tfluid.appendChild(document.createTextNode(dimensions_caption))\n\t\tfluid_images.push(fluid);\n\t\tsetTimeout(fluid_update, 0);\n\t}\n\n\tel.parentNode.insertBefore(fluid, el.nextSibling)\n\t\n\tif(window.jQuery){\n\t    jQuery(function($){\n\t\t$(el).on(\"load\", function(){\n\t\t   el.style.width = fluid.style.width;\n\t\t   el.style.height = fluid.style.height;\n\t\t   $(el).show();\n\t\t   $(fluid).remove();\n\t\t});\n\t    })\n\t}\n}\n\nfunction fluid_update() {\n\tfor (i in fluid_images) {\n\t\tif(!fluid_images.hasOwnProperty(i)) continue;\n\t\tvar el = fluid_images[i],\n\t\t\tlabel = el.firstChild;\n\n\t\tel.style.lineHeight = el.offsetHeight+\"px\";\n\t\tlabel.data = el.offsetWidth + \"x\" + el.offsetHeight;\n\t}\n}\n\nfunction parse_flags(flags, options) {\n\n\tvar ret = {\n\t\ttheme: settings.themes.gray\n\t}, render = false;\n\n\tfor (sl = flags.length, j = 0; j < sl; j++) {\n\t\tvar flag = flags[j];\n\t\tif (app.flags.dimensions.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.dimensions.output(flag);\n\t\t} else if (app.flags.fluid.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.fluid.output(flag);\n\t\t\tret.fluid = true;\n\t\t} else if (app.flags.colors.match(flag)) {\n\t\t\tret.theme = app.flags.colors.output(flag);\n\t\t} else if (options.themes[flag]) {\n\t\t\t//If a theme is specified, it will override custom colors\n\t\t\tret.theme = options.themes[flag];\n\t\t} else if (app.flags.text.match(flag)) {\n\t\t\tret.text = app.flags.text.output(flag);\n\t\t} else if(app.flags.font.match(flag)){\n\t\t\tret.font = app.flags.font.output(flag);\n\t\t}\n\t\telse if(app.flags.auto.match(flag)){\n\t\t\tret.auto = true;\n\t\t}\n\t}\n\n\treturn render ? ret : false;\n\n};\n\nif (!canvas.getContext) {\n\tfallback = true;\n} else {\n\tif (canvas.toDataURL(\"image/png\")\n\t\t.indexOf(\"data:image/png\") < 0) {\n\t\t//Android doesn't support data URI\n\t\tfallback = true;\n\t} else {\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t}\n}\n\nvar fluid_images = [];\n\nvar settings = {\n\tdomain: \"holder.js\",\n\timages: \"img\",\n\tbgnodes: \".holderjs\",\n\tthemes: {\n\t\t\"gray\": {\n\t\t\tbackground: \"#eee\",\n\t\t\tforeground: \"#aaa\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"social\": {\n\t\t\tbackground: \"#3a5a97\",\n\t\t\tforeground: \"#fff\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"industrial\": {\n\t\t\tbackground: \"#434A52\",\n\t\t\tforeground: \"#C2F200\",\n\t\t\tsize: 12\n\t\t}\n\t},\n\tstylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}\"\n};\n\n\napp.flags = {\n\tdimensions: {\n\t\tregex: /^(\\d+)x(\\d+)$/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: +exec[1],\n\t\t\t\theight: +exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tfluid: {\n\t\tregex: /^([0-9%]+)x([0-9%]+)$/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: exec[1],\n\t\t\t\theight: exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tcolors: {\n\t\tregex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t}\n\t\t}\n\t},\n\ttext: {\n\t\tregex: /text\\:(.*)/,\n\t\toutput: function (val) {\n\t\t\treturn this.regex.exec(val)[1];\n\t\t}\n\t},\n\tfont: {\n\t    regex: /font\\:(.*)/,\n\t    output: function(val){\n\t\treturn this.regex.exec(val)[1];\n\t    }\n\t},\n\tauto: {\n\t    regex: /^auto$/\n\t}\n}\n\nfor (var flag in app.flags) {\n\tif(!app.flags.hasOwnProperty(flag)) continue;\n\tapp.flags[flag].match = function (val) {\n\t\treturn val.match(this.regex)\n\t}\n}\n\napp.add_theme = function (name, theme) {\n\tname != null && theme != null && (settings.themes[name] = theme);\n\treturn app;\n};\n\napp.add_image = function (src, el) {\n\tvar node = selector(el);\n\tif (node.length) {\n\t\tfor (var i = 0, l = node.length; i < l; i++) {\n\t\t\tvar img = document.createElement(\"img\")\n\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\tnode[i].appendChild(img);\n\t\t}\n\t}\n\treturn app;\n};\n\napp.run = function (o) {\n\tvar options = extend(settings, o), images = [];\n\t    \n\tif(options.images instanceof window.NodeList){\n\t    imageNodes = options.images;\n\t}\n\telse if(options.images instanceof window.Node){\n\t    imageNodes = [options.images];\n\t}\n\telse{\n\t    imageNodes = selector(options.images);\n\t}\n\t\n\tif(options.elements instanceof window.NodeList){\n\t    bgnodes = options.bgnodes;\n\t}\n\telse if(options.bgnodes instanceof window.Node){\n\t    bgnodes = [options.bgnodes];\n\t}\n\telse{\n\t    bgnodes = selector(options.bgnodes);\n\t}\n\t\n\tpreempted = true;\n\t   \n\tfor (i = 0, l = imageNodes.length; i < l; i++) images.push(imageNodes[i]);\n\t\n\tvar holdercss = document.getElementById(\"holderjs-style\");\n\t\n\tif(!holdercss){\n\t    holdercss = document.createElement(\"style\");\n\t    holdercss.setAttribute(\"id\", \"holderjs-style\");\n\t    holdercss.type = \"text/css\";\n\t    document.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n\t}\n\n\tif(holdercss.styleSheet){\n\t    holdercss.styleSheet += options.stylesheet;\n\t}\n\telse{\n\t    holdercss.textContent+= options.stylesheet;\n\t}\n\t\n\tvar cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n\tfor (var l = bgnodes.length, i = 0; i < l; i++) {\n\t\tvar src = window.getComputedStyle(bgnodes[i], null)\n\t\t\t.getPropertyValue(\"background-image\");\n\t\tvar flags = src.match(cssregex);\n\t\tif (flags) {\n\t\t\tvar holder = parse_flags(flags[1].split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\trender(\"background\", bgnodes[i], holder, src);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var l = images.length, i = 0; i < l; i++) {\n\t\tvar src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n\t\tif (src != null && src.indexOf(options.domain) >= 0) {\n\t\t\tvar holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1)\n\t\t\t\t.split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\tif (holder.fluid) {\n\t\t\t\t\tfluid(images[i], holder, src);\n\t\t\t\t} else {\n\t\t\t\t\trender(\"image\", images[i], holder, src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn app;\n};\n\ncontentLoaded(win, function () {\n\tif (window.addEventListener) {\n\t\twindow.addEventListener(\"resize\", fluid_update, false);\n\t\twindow.addEventListener(\"orientationchange\", fluid_update, false);\n\t} else {\n\t\twindow.attachEvent(\"onresize\", fluid_update)\n\t}\n\tpreempted || app.run();\n});\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"Holder\", [], function () { return app; } );\n}\n\n})(Holder, window);\n"]],"start1":0,"start2":0,"length1":0,"length2":11758}]],"length":11758}
{"contributors":[],"silentsave":false,"ts":1359815127226,"patch":[[{"diffs":[[0,"tion"],[-1," (app, win) {\n\nvar preempted = false,\nfallback = false,\ncanvas = document.createElement('canvas');\n\n//getElementsByClassName polyfill\ndocument.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\n\n//getComputedStyle polyfill\nwindow.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\n\n//http://javascript.nwbox.com/ContentLoaded by Diego Perini with modifications\nfunction contentLoaded(n,t){var l=\"complete\",s=\"readystatechange\",u=!1,h=u,c=!0,i=n.document,a=i.documentElement,e=i.addEventListener?\"addEventListener\":\"attachEvent\",v=i.addEventListener?\"removeEventListener\":\"detachEvent\",f=i.addEventListener?\"\":\"on\",r=function(e){(e.type!=s||i.readyState==l)&&((e.type==\"load\"?n:i)[v](f+e.type,r,u),!h&&(h=!0)&&t.call(n,null))},o=function(){try{a.doScroll(\"left\")}catch(n){setTimeout(o,50);return}r(\"poll\")};if(i.readyState==l)t.call(n,\"lazy\");else{if(i.createEventObject&&a.doScroll){try{c=!n.frameElement}catch(y){}c&&o()}i[e](f+\"DOMContentLoaded\",r,u),i[e](f+s,r,u),n[e](f+\"load\",r,u)}};\n\n//https://gist.github.com/991057 by Jed Schmidt with modifications\nfunction selector(a){\n    a=a.match(/^(\\W)?(.*)/);var b=document[\"getElement\"+(a[1]?a[1]==\"#\"?\"ById\":\"sByClassName\":\"sByTagName\")](a[2]);\n\tvar ret=[];\tb!=null&&(b.length?ret=b:b.length==0?ret=b:ret=[b]);\treturn ret;\n}\n\n//shallow object property extend\nfunction extend(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}\n\n//hasOwnProperty polyfill\nif (!Object.prototype.hasOwnProperty)\n\tObject.prototype.hasOwnProperty = function(prop) {\n\t\tvar proto = this.__proto__ || this.constructor.prototype;\n\t\treturn (prop in this) && (!(prop in proto) || proto[prop] !== this[prop]);\n\t}\n\nfunction text_size(width, height, template) {\n\tvar dimension_arr = [height, width].sort();\n\tvar maxFactor = Math.round(dimension_arr[1] / 16),\n\t\tminFactor = Math.round(dimension_arr[0] / 16);\n\tvar text_height = Math.max(template.size, maxFactor);\n\treturn {\n\t\theight: text_height\n\t}\n}\n\nfunction draw(ctx, dimensions, template, ratio) {\n\tvar ts = text_size(dimensions.width, dimensions.height, template);\n\tvar text_height = ts.height;\n\tvar width = dimensions.width * ratio, height = dimensions.height * ratio;\n\tvar font = template.font ? template.font : \"sans-serif\";\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tctx.textAlign = \"center\";\n\tctx.textBaseline = \"middle\";\n\tctx.fillStyle = template.background;\n\tctx.fillRect(0, 0, width, height);\n\tctx.fillStyle = template.foreground;\n\tctx.font = \"bold \" + text_height + \"px \"+font;\n\tvar text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n\tif (ctx.measureText(text).width / width > 1) {\n\t\ttext_height = template.size / (ctx.measureText(text).width / width);\n\t}\n\t//Resetting font size if necessary\n\tctx.font = \"bold \" + (text_height * ratio) + \"px \"+font;\n\tctx.fillText(text, (width / 2), (height / 2), width);\n\treturn canvas.toDataURL(\"image/png\");\n}\n\nfunction render(mode, el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text ? decodeURIComponent(holder.text) : holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\ttext: text }) : theme);\n\ttheme = (holder.font ? extend(theme, {font: holder.font}) : theme);\n\n\tvar ratio = 1;\n\tif(window.devicePixelRatio && window.devicePixelRatio > 1){\n\t\tratio = window.devicePixelRatio;\n\t}\n\n\tif (mode == \"image\") {\n\t\tel.setAttribute(\"data-src\", src);\n\t\tel.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\t\t\n\t\tif(fallback || !holder.auto){\n\t\t    el.style.width = dimensions.width + \"px\";\n\t\t    el.style.height = dimensions.height + \"px\";\n\t\t}\n\t\n\t\tif (fallback) {\n\t\t\tel.style.backgroundColor = theme.background;\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tel.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n\t\t}\n\t} else {\n\t\tif (!fallback) {\n\t\t\tel.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n\t\t\tel.style.backgroundSize = dimensions.width+\"px \"+dimensions.height+\"px\";\n\t\t}\n\t}\n};\n\nfunction fluid(el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar fluid = document.createElement(\"div\");\n\n\tfluid.style.backgroundColor = theme.background;\n\tfluid.style.color = theme.foreground;\n\tfluid.className = el.className + \" holderjs-fluid\";\n\tfluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.id = el.id;\n\t\n\tel.style.width=0;\n\tel.style.height=0;\n\t\n\tif (theme.text) {\n\t\tfluid.appendChild(document.createTextNode(theme.text))\n\t} else {\n\t\tfluid.appendChild(document.createTextNode(dimensions_caption))\n\t\tfluid_images.push(fluid);\n\t\tsetTimeout(fluid_update, 0);\n\t}\n\n\tel.parentNode.insertBefore(fluid, el.nextSibling)\n\t\n\tif(window.jQuery){\n\t    jQuery(function($){\n\t\t$(el).on(\"load\", function(){\n\t\t   el.style.width = fluid.style.width;\n\t\t   el.style.height = fluid.style.height;\n\t\t   $(el).show();\n\t\t   $(fluid).remove();\n\t\t});\n\t    })\n\t}\n}\n\nfunction fluid_update() {\n\tfor (i in fluid_images) {\n\t\tif(!fluid_images.hasOwnProperty(i)) continue;\n\t\tvar el = fluid_images[i],\n\t\t\tlabel = el.firstChild;\n\n\t\tel.style.lineHeight = el.offsetHeight+\"px\";\n\t\tlabel.data = el.offsetWidth + \"x\" + el.offsetHeight;\n\t}\n}\n\nfunction parse_flags(flags, options) {\n\n\tvar ret = {\n\t\ttheme: settings.themes.gray\n\t}, render = false;\n\n\tfor (sl = flags.length, j = 0; j < sl; j++) {\n\t\tvar flag = flags[j];\n\t\tif (app.flags.dimensions.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.dimensions.output(flag);\n\t\t} else if (app.flags.fluid.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.fluid.output(flag);\n\t\t\tret.fluid = true;\n\t\t} else if (app.flags.colors.match(flag)) {\n\t\t\tret.theme = app.flags.colors.output(flag);\n\t\t} else if (options.themes[flag]) {\n\t\t\t//If a theme is specified, it will override custom colors\n\t\t\tret.theme = options.themes[flag];\n\t\t} else if (app.flags.text.match(flag)) {\n\t\t\tret.text = app.flags.text.output(flag);\n\t\t} else if(app.flags.font.match(flag)){\n\t\t\tret.font = app.flags.font.output(flag);\n\t\t}\n\t\telse if(app.flags.auto.match(flag)){\n\t\t\tret.auto = true;\n\t\t}\n\t}\n\n\treturn render ? ret : false;\n\n};\n\nif (!canvas.getContext) {\n\tfallback = true;\n} else {\n\tif (canvas.toDataURL(\"image/png\")\n\t\t.indexOf(\"data:image/png\") < 0) {\n\t\t//Android doesn't support data URI\n\t\tfallback = true;\n\t} else {\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t}\n}\n\nvar fluid_images = [];\n\nvar settings = {\n\tdomain: \"holder.js\",\n\timages: \"img\",\n\tbgnodes: \".holderjs\",\n\tthemes: {\n\t\t\"gray\": {\n\t\t\tbackground: \"#eee\",\n\t\t\tforeground: \"#aaa\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"social\": {\n\t\t\tbackground: \"#3a5a97\",\n\t\t\tforeground: \"#fff\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"industrial\": {\n\t\t\tbackground: \"#434A52\",\n\t\t\tforeground: \"#C2F200\",\n\t\t\tsize: 12\n\t\t}\n\t},\n\tstylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}\"\n};\n\n\napp.flags = {\n\tdimensions: {\n\t\tregex: /^(\\d+)x(\\d+)$/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: +exec[1],\n\t\t\t\theight: +exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tfluid: {\n\t\tregex: /^([0-9%]+)x([0-9%]+)$/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: exec[1],\n\t\t\t\theight: exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tcolors: {\n\t\tregex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t}\n\t\t}\n\t},\n\ttext: {\n\t\tregex: /text\\:(.*)/,\n\t\toutput: function (val) {\n\t\t\treturn this.regex.exec(val)[1];\n\t\t}\n\t},\n\tfont: {\n\t    regex: /font\\:(.*)/,\n\t    output: function(val){\n\t\treturn this.regex.exec(val)[1];\n\t    }\n\t},\n\tauto: {\n\t    regex: /^auto$/\n\t}\n}\n\nfor (var flag in app.flags) {\n\tif(!app.flags.hasOwnProperty(flag)) continue;\n\tapp.flags[flag].match = function (val) {\n\t\treturn val.match(this.regex)\n\t}\n}\n\napp.add_theme = function (name, theme) {\n\tname != null && theme != null && (settings.themes[name] = theme);\n\treturn app;\n};\n\napp.add_image = function (src, el) {\n\tvar node = selector(el);\n\tif (node.length) {\n\t\tfor (var i = 0, l = node.length; i < l; i++) {\n\t\t\tvar img = document.createElement(\"img\")\n\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\tnode[i].appendChild(img);\n\t\t}\n\t}\n\treturn app;\n};\n\napp.run = function (o) {\n\tvar options = extend(settings, o), images = [];\n\t    \n\tif(options.images instanceof window.NodeList){\n\t    imageNodes = options.images;\n\t}\n\telse if(options.images instanceof window.Node){\n\t    imageNodes = [options.images];\n\t}\n\telse{\n\t    imageNodes = selector(options.images);\n\t}\n\t\n\tif(options.elements instanceof window.NodeList){\n\t    bgnodes = options.bgnodes;\n\t}\n\telse if(options.bgnodes instanceof window.Node){\n\t    bgnodes = [options.bgnodes];\n\t}\n\telse{\n\t    bgnodes = selector(options.bgnodes);\n\t}\n\t\n\tpreempted = true;\n\t   \n\tfor (i = 0, l = imageNodes.length; i < l; i++) images.push(imageNodes[i]);\n\t\n\tvar holdercss = document.getElementById(\"holderjs-style\");\n\t\n\tif(!holdercss){\n\t    holdercss = document.createElement(\"style\");\n\t    holdercss.setAttribute(\"id\", \"holderjs-style\");\n\t    holdercss.type = \"text/css\";\n\t    document.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n\t}\n\n\tif(holdercss.styleSheet){\n\t    holdercss.styleSheet += options.stylesheet;\n\t}\n\telse{\n\t    holdercss.textContent+= options.stylesheet;\n\t}\n\t\n\tvar cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n\tfor (var l = bgnodes.length, i = 0; i < l; i++) {\n\t\tvar src = window.getComputedStyle(bgnodes[i], null)\n\t\t\t.getPropertyValue(\"background-image\");\n\t\tvar flags = src.match(cssregex);\n\t\tif (flags) {\n\t\t\tvar holder = parse_flags(flags[1].split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\trender(\"background\", bgnodes[i], holder, src);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var l = images.length, i = 0; i < l; i++) {\n\t\tvar src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n\t\tif (src != null && src.indexOf(options.domain) >= 0) {\n\t\t\tvar holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1)\n\t\t\t\t.split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\tif (holder.fluid) {\n\t\t\t\t\tfluid(images[i], holder, src);\n\t\t\t\t} else {\n\t\t\t\t\trender(\"image\", images[i], holder, src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn app;\n};\n\ncontentLoaded(win, function () {\n\tif (window.addEventListener) {\n\t\twindow.addEventListener(\"resize\", fluid_update, false);\n\t\twindow.addEventListener(\"orientationchange\", fluid_update, false);\n\t} else {\n\t\twindow.attachEvent(\"onresize\", fluid_update)\n\t}\n\tpreempted || app.run();\n});\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"Holder\", [], function () { return app; } );\n"],[1,"(app, win) {\n\n    var preempted = false,\n        fallback = false,\n        canvas = document.createElement('canvas');\n\n    //getElementsByClassName polyfill\n    document.getElementsByClassName || (document.getElementsByClassName = function(e) {\n        var t = document,\n            n, r, i, s = [];\n        if (t.querySelectorAll) return t.querySelectorAll(\".\" + e);\n        if (t.evaluate) {\n            r = \".//*[contains(concat(' ', @class, ' '), ' \" + e + \" ')]\", n = t.evaluate(r, t, null, 0, null);\n            while (i = n.iterateNext()) s.push(i)\n        }\n        else {\n            n = t.getElementsByTagName(\"*\"), r = new RegExp(\"(^|\\\\s)\" + e + \"(\\\\s|$)\");\n            for (i = 0; i < n.length; i++) r.test(n[i].className) && s.push(n[i])\n        }\n        return s\n    })\n\n    //getComputedStyle polyfill\n    window.getComputedStyle || (window.getComputedStyle = function(e, t) {\n        return this.el = e, this.getPropertyValue = function(t) {\n            var n = /(\\-([a-z]){1})/g;\n            return t == \"float\" && (t = \"styleFloat\"), n.test(t) && (t = t.replace(n, function() {\n                return arguments[2].toUpperCase()\n            })), e.currentStyle[t] ? e.currentStyle[t] : null\n        }, this\n    })\n\n    //http://javascript.nwbox.com/ContentLoaded by Diego Perini with modifications\n    function contentLoaded(n, t) {\n        var l = \"complete\",\n            s = \"readystatechange\",\n            u = !1,\n            h = u,\n            c = !0,\n            i = n.document,\n            a = i.documentElement,\n            e = i.addEventListener ? \"addEventListener\" : \"attachEvent\",\n            v = i.addEventListener ? \"removeEventListener\" : \"detachEvent\",\n            f = i.addEventListener ? \"\" : \"on\",\n            r = function(e) {\n                (e.type != s || i.readyState == l) && ((e.type == \"load\" ? n : i)[v](f + e.type, r, u), !h && (h = !0) && t.call(n, null))\n            }, o = function() {\n                try {\n                    a.doScroll(\"left\")\n                }\n                catch (n) {\n                    setTimeout(o, 50);\n                    return\n                }\n                r(\"poll\")\n            };\n        if (i.readyState == l) t.call(n, \"lazy\");\n        else {\n            if (i.createEventObject && a.doScroll) {\n                try {\n                    c = !n.frameElement\n                }\n                catch (y) {}\n                c && o()\n            }\n            i[e](f + \"DOMContentLoaded\", r, u), i[e](f + s, r, u), n[e](f + \"load\", r, u)\n        }\n    };\n\n    //https://gist.github.com/991057 by Jed Schmidt with modifications\n    function selector(a) {\n        a = a.match(/^(\\W)?(.*)/);\n        var b = document[\"getElement\" + (a[1] ? a[1] == \"#\" ? \"ById\" : \"sByClassName\" : \"sByTagName\")](a[2]);\n        var ret = [];\n        b != null && (b.length ? ret = b : b.length == 0 ? ret = b : ret = [b]);\n        return ret;\n    }\n\n    //shallow object property extend\n    function extend(a, b) {\n        var c = {};\n        for (var d in a) c[d] = a[d];\n        for (var e in b) c[e] = b[e];\n        return c\n    }\n\n    //hasOwnProperty polyfill\n    if (!Object.prototype.hasOwnProperty) Object.prototype.hasOwnProperty = function(prop) {\n        var proto = this.__proto__ || this.constructor.prototype;\n        return (prop in this) && (!(prop in proto) || proto[prop] !== this[prop]);\n    }\n\n    function text_size(width, height, template) {\n        var dimension_arr = [height, width].sort();\n        var maxFactor = Math.round(dimension_arr[1] / 16),\n            minFactor = Math.round(dimension_arr[0] / 16);\n        var text_height = Math.max(template.size, maxFactor);\n        return {\n            height: text_height\n        }\n    }\n\n    function draw(ctx, dimensions, template, ratio) {\n        var ts = text_size(dimensions.width, dimensions.height, template);\n        var text_height = ts.height;\n        var width = dimensions.width * ratio,\n            height = dimensions.height * ratio;\n        var font = template.font ? template.font : \"sans-serif\";\n        canvas.width = width;\n        canvas.height = height;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillStyle = template.background;\n        ctx.fillRect(0, 0, width, height);\n        ctx.fillStyle = template.foreground;\n        ctx.font = \"bold \" + text_height + \"px \" + font;\n        var text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n        if (ctx.measureText(text).width / width > 1) {\n            text_height = template.size / (ctx.measureText(text).width / width);\n        }\n        //Resetting font size if necessary\n        ctx.font = \"bold \" + (text_height * ratio) + \"px \" + font;\n        ctx.fillText(text, (width / 2), (height / 2), width);\n        return canvas.toDataURL(\"image/png\");\n    }\n\n    function render(mode, el, holder, src) {\n        var dimensions = holder.dimensions,\n            theme = holder.theme,\n            text = holder.text ? decodeURIComponent(holder.text) : holder.text;\n        var dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n        theme = (text ? extend(theme, {\n            text: text\n        }) : theme);\n        theme = (holder.font ? extend(theme, {\n            font: holder.font\n        }) : theme);\n\n        var ratio = 1;\n        if (window.devicePixelRatio && window.devicePixelRatio > 1) {\n            ratio = window.devicePixelRatio;\n        }\n\n        if (mode == \"image\") {\n            el.setAttribute(\"data-src\", src);\n            el.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\n            if (fallback || !holder.auto) {\n                el.style.width = dimensions.width + \"px\";\n                el.style.height = dimensions.height + \"px\";\n            }\n\n            if (fallback) {\n                el.style.backgroundColor = theme.background;\n\n            }\n            else {\n                el.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n            }\n        }\n        else {\n            if (!fallback) {\n                el.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n                el.style.backgroundSize = dimensions.width + \"px \" + dimensions.height + \"px\";\n            }\n        }\n    };\n\n    function fluid(el, holder, src) {\n        var dimensions = holder.dimensions,\n            theme = holder.theme,\n            text = holder.text;\n        var dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n        theme = (text ? extend(theme, {\n            text: text\n        }) : theme);\n\n        var fluid = document.createElement(\"div\");\n\n        fluid.style.backgroundColor = theme.background;\n        fluid.style.color = theme.foreground;\n        fluid.className = el.className + \" holderjs-fluid\";\n        fluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\") > 0 ? \"\" : \"px\");\n        fluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\") > 0 ? \"\" : \"px\");\n        fluid.id = el.id;\n\n        el.style.width = 0;\n        el.style.height = 0;\n\n        if (theme.text) {\n            fluid.appendChild(document.createTextNode(theme.text))\n        }\n        else {\n            fluid.appendChild(document.createTextNode(dimensions_caption))\n            fluid_images.push(fluid);\n            setTimeout(fluid_update, 0);\n        }\n\n        el.parentNode.insertBefore(fluid, el.nextSibling)\n\n        if (window.jQuery) {\n            jQuery(function($) {\n                $(el).on(\"load\", function() {\n                    el.style.width = fluid.style.width;\n                    el.style.height = fluid.style.height;\n                    $(el).show();\n                    $(fluid).remove();\n                });\n            })\n        }\n    }\n\n    function fluid_update() {\n        for (i in fluid_images) {\n            if (!fluid_images.hasOwnProperty(i)) continue;\n            var el = fluid_images[i],\n                label = el.firstChild;\n\n            el.style.lineHeight = el.offsetHeight + \"px\";\n            label.data = el.offsetWidth + \"x\" + el.offsetHeight;\n        }\n    }\n\n    function parse_flags(flags, options) {\n\n        var ret = {\n            theme: settings.themes.gray\n        }, render = false;\n\n        for (sl = flags.length, j = 0; j < sl; j++) {\n            var flag = flags[j];\n            if (app.flags.dimensions.match(flag)) {\n                render = true;\n                ret.dimensions = app.flags.dimensions.output(flag);\n            }\n            else if (app.flags.fluid.match(flag)) {\n                render = true;\n                ret.dimensions = app.flags.fluid.output(flag);\n                ret.fluid = true;\n            }\n            else if (app.flags.colors.match(flag)) {\n                ret.theme = app.flags.colors.output(flag);\n            }\n            else if (options.themes[flag]) {\n                //If a theme is specified, it will override custom colors\n                ret.theme = options.themes[flag];\n            }\n            else if (app.flags.text.match(flag)) {\n                ret.text = app.flags.text.output(flag);\n            }\n            else if (app.flags.font.match(flag)) {\n                ret.font = app.flags.font.output(flag);\n            }\n            else if (app.flags.auto.match(flag)) {\n                ret.auto = true;\n            }\n        }\n\n        return render ? ret : false;\n\n    };\n\n    if (!canvas.getContext) {\n        fallback = true;\n    }\n    else {\n        if (canvas.toDataURL(\"image/png\").indexOf(\"data:image/png\") < 0) {\n            //Android doesn't support data URI\n            fallback = true;\n        }\n        else {\n            var ctx = canvas.getContext(\"2d\");\n        }\n    }\n\n    var fluid_images = [];\n\n    var settings = {\n        domain: \"holder.js\",\n        images: \"img\",\n        bgnodes: \".holderjs\",\n        themes: {\n            \"gray\": {\n                background: \"#eee\",\n                foreground: \"#aaa\",\n                size: 12\n            },\n            \"social\": {\n                background: \"#3a5a97\",\n                foreground: \"#fff\",\n                size: 12\n            },\n            \"industrial\": {\n                background: \"#434A52\",\n                foreground: \"#C2F200\",\n                size: 12\n            }\n        },\n        stylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}\"\n    };\n\n\n    app.flags = {\n        dimensions: {\n            regex: /^(\\d+)x(\\d+)$/,\n            output: function(val) {\n                var exec = this.regex.exec(val);\n                return {\n                    width: +exec[1],\n                    height: +exec[2]\n                }\n            }\n        },\n        fluid: {\n            regex: /^([0-9%]+)x([0-9%]+)$/,\n            output: function(val) {\n                var exec = this.regex.exec(val);\n                return {\n                    width: exec[1],\n                    height: exec[2]\n                }\n            }\n        },\n        colors: {\n            regex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n            output: function(val) {\n                var exec = this.regex.exec(val);\n                return {\n                    size: settings.themes.gray.size,\n                    foreground: \"#\" + exec[2],\n                    background: \"#\" + exec[1]\n                }\n            }\n        },\n        text: {\n            regex: /text\\:(.*)/,\n            output: function(val) {\n                return this.regex.exec(val)[1];\n            }\n        },\n        font: {\n            regex: /font\\:(.*)/,\n            output: function(val) {\n                return this.regex.exec(val)[1];\n            }\n        },\n        auto: {\n            regex: /^auto$/\n        }\n    }\n\n    for (var flag in app.flags) {\n        if (!app.flags.hasOwnProperty(flag)) continue;\n        app.flags[flag].match = function(val) {\n            return val.match(this.regex)\n        }\n    }\n\n    app.add_theme = function(name, theme) {\n        name != null && theme != null && (settings.themes[name] = theme);\n        return app;\n    };\n\n    app.add_image = function(src, el) {\n        var node = selector(el);\n        if (node.length) {\n            for (var i = 0, l = node.length; i < l; i++) {\n                var img = document.createElement(\"img\")\n                img.setAttribute(\"data-src\", src);\n                node[i].appendChild(img);\n            }\n        }\n        return app;\n    };\n\n    app.run = function(o) {\n        var options = extend(settings, o),\n            images = [];\n\n        if (options.images instanceof window.NodeList) {\n            imageNodes = options.images;\n        }\n        else if (options.images instanceof window.Node) {\n            imageNodes = [options.images];\n        }\n        else {\n            imageNodes = selector(options.images);\n        }\n\n        if (options.elements instanceof window.NodeList) {\n            bgnodes = options.bgnodes;\n        }\n        else if (options.bgnodes instanceof window.Node) {\n            bgnodes = [options.bgnodes];\n        }\n        else {\n            bgnodes = selector(options.bgnodes);\n        }\n\n        preempted = true;\n\n        for (i = 0, l = imageNodes.length; i < l; i++) images.push(imageNodes[i]);\n\n        var holdercss = document.getElementById(\"holderjs-style\");\n\n        if (!holdercss) {\n            holdercss = document.createElement(\"style\");\n            holdercss.setAttribute(\"id\", \"holderjs-style\");\n            holdercss.type = \"text/css\";\n            document.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n        }\n\n        if (holdercss.styleSheet) {\n            holdercss.styleSheet += options.stylesheet;\n        }\n        else {\n            holdercss.textContent += options.stylesheet;\n        }\n\n        var cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n        for (var l = bgnodes.length, i = 0; i < l; i++) {\n            var src = window.getComputedStyle(bgnodes[i], null).getPropertyValue(\"background-image\");\n            var flags = src.match(cssregex);\n            if (flags) {\n                var holder = parse_flags(flags[1].split(\"/\"), options);\n                if (holder) {\n                    render(\"background\", bgnodes[i], holder, src);\n                }\n            }\n        }\n\n        for (var l = images.length, i = 0; i < l; i++) {\n            var src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n            if (src != null && src.indexOf(options.domain) >= 0) {\n                var holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1).split(\"/\"), options);\n                if (holder) {\n                    if (holder.fluid) {\n                        fluid(images[i], holder, src);\n                    }\n                    else {\n                        render(\"image\", images[i], holder, src);\n                    }\n                }\n            }\n        }\n        return app;\n    };\n\n    contentLoaded(win, function() {\n        if (window.addEventListener) {\n            window.addEventListener(\"resize\", fluid_update, false);\n            window.addEventListener(\"orientationchange\", fluid_update, false);\n        }\n        else {\n            window.attachEvent(\"onresize\", fluid_update)\n        }\n        preempted || app.run();\n    });\n\n    if (typeof define === \"function\" && define.amd) {\n        define(\"Holder\", [], function() {\n            return app;\n        });\n    "],[0,"}\n\n}"]],"start1":255,"start2":255,"length1":11484,"length2":15550}]],"length":15824,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359904812987,"patch":[[{"diffs":[[0,"der - 1."],[-1,"9"],[1,"6"],[0," - clien"]],"start1":7,"start2":7,"length1":17,"length2":17},{"diffs":[[0,"2012"],[-1,"-2013"],[0," Iva"]],"start1":54,"start2":54,"length1":13,"length2":8},{"diffs":[[0,"tion"],[-1,"(app, win) {\n\n    var preempted = false,\n        fallback = false,\n        canvas = document.createElement('canvas');\n\n    //getElementsByClassName polyfill\n    document.getElementsByClassName || (document.getElementsByClassName = function(e) {\n        var t = document,\n            n, r, i, s = [];\n        if (t.querySelectorAll) return t.querySelectorAll(\".\" + e);\n        if (t.evaluate) {\n            r = \".//*[contains(concat(' ', @class, ' '), ' \" + e + \" ')]\", n = t.evaluate(r, t, null, 0, null);\n            while (i = n.iterateNext()) s.push(i)\n        }\n        else {\n            n = t.getElementsByTagName(\"*\"), r = new RegExp(\"(^|\\\\s)\" + e + \"(\\\\s|$)\");\n            for (i = 0; i < n.length; i++) r.test(n[i].className) && s.push(n[i])\n        }\n        return s\n    })\n\n    //getComputedStyle polyfill\n    window.getComputedStyle || (window.getComputedStyle = function(e, t) {\n        return this.el = e, this.getPropertyValue = function(t) {\n            var n = /(\\-([a-z]){1})/g;\n            return t == \"float\" && (t = \"styleFloat\"), n.test(t) && (t = t.replace(n, function() {\n                return arguments[2].toUpperCase()\n            })), e.currentStyle[t] ? e.currentStyle[t] : null\n        }, this\n    })\n\n    //http://javascript.nwbox.com/ContentLoaded by Diego Perini with modifications\n    function contentLoaded(n, t) {\n        var l = \"complete\",\n            s = \"readystatechange\",\n            u = !1,\n            h = u,\n            c = !0,\n            i = n.document,\n            a = i.documentElement,\n            e = i.addEventListener ? \"addEventListener\" : \"attachEvent\",\n            v = i.addEventListener ? \"removeEventListener\" : \"detachEvent\",\n            f = i.addEventListener ? \"\" : \"on\",\n            r = function(e) {\n                (e.type != s || i.readyState == l) && ((e.type == \"load\" ? n : i)[v](f + e.type, r, u), !h && (h = !0) && t.call(n, null))\n            }, o = function() {\n                try {\n                    a.doScroll(\"left\")\n                }\n                catch (n) {\n                    setTimeout(o, 50);\n                    return\n                }\n                r(\"poll\")\n            };\n        if (i.readyState == l) t.call(n, \"lazy\");\n        else {\n            if (i.createEventObject && a.doScroll) {\n                try {\n                    c = !n.frameElement\n                }\n                catch (y) {}\n                c && o()\n            }\n            i[e](f + \"DOMContentLoaded\", r, u), i[e](f + s, r, u), n[e](f + \"load\", r, u)\n        }\n    };\n\n    //https://gist.github.com/991057 by Jed Schmidt with modifications\n    function selector(a) {\n        a = a.match(/^(\\W)?(.*)/);\n        var b = document[\"getElement\" + (a[1] ? a[1] == \"#\" ? \"ById\" : \"sByClassName\" : \"sByTagName\")](a[2]);\n        var ret = [];\n        b != null && (b.length ? ret = b : b.length == 0 ? ret = b : ret = [b]);\n        return ret;\n    }\n\n    //shallow object property extend\n    function extend(a, b) {\n        var c = {};\n        for (var d in a) c[d] = a[d];\n        for (var e in b) c[e] = b[e];\n        return c\n    }\n\n    //hasOwnProperty polyfill\n    if (!Object.prototype.hasOwnProperty) Object.prototype.hasOwnProperty = function(prop) {\n        var proto = this.__proto__ || this.constructor.prototype;\n        return (prop in this) && (!(prop in proto) || proto[prop] !== this[prop]);\n    }\n\n    function text_size(width, height, template) {\n        var dimension_arr = [height, width].sort();\n        var maxFactor = Math.round(dimension_arr[1] / 16),\n            minFactor = Math.round(dimension_arr[0] / 16);\n        var text_height = Math.max(template.size, maxFactor);\n        return {\n            height: text_height\n        }\n    }\n\n    function draw(ctx, dimensions, template, ratio) {\n        var ts = text_size(dimensions.width, dimensions.height, template);\n        var text_height = ts.height;\n        var width = dimensions.width * ratio,\n            height = dimensions.height * ratio;\n        var font = template.font ? template.font : \"sans-serif\";\n        canvas.width = width;\n        canvas.height = height;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillStyle = template.background;\n        ctx.fillRect(0, 0, width, height);\n        ctx.fillStyle = template.foreground;\n        ctx.font = \"bold \" + text_height + \"px \" + font;\n        var text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n        if (ctx.measureText(text).width / width > 1) {\n            text_height = template.size / (ctx.measureText(text).width / width);\n        }\n        //Resetting font size if necessary\n        ctx.font = \"bold \" + (text_height * ratio) + \"px \" + font;\n        ctx.fillText(text, (width / 2), (height / 2), width);\n        return canvas.toDataURL(\"image/png\");\n    }\n\n    function render(mode, el, holder, src) {\n        var dimensions = holder.dimensions,\n            theme = holder.theme,\n            text = holder.text ? decodeURIComponent(holder.text) : holder.text;\n        var dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n        theme = (text ? extend(theme, {\n            text: text\n        }) : theme);\n        theme = (holder.font ? extend(theme, {\n            font: holder.font\n        }) : theme);\n\n        var ratio = 1;\n        if (window.devicePixelRatio && window.devicePixelRatio > 1) {\n            ratio = window.devicePixelRatio;\n        }\n\n        if (mode == \"image\") {\n            el.setAttribute(\"data-src\", src);\n            el.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\n            if (fallback || !holder.auto) {\n                el.style.width = dimensions.width + \"px\";\n                el.style.height = dimensions.height + \"px\";\n            }\n\n            if (fallback) {\n                el.style.backgroundColor = theme.background;\n\n            }\n            else {\n                el.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n            }\n        }\n        else {\n            if (!fallback) {\n                el.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n                el.style.backgroundSize = dimensions.width + \"px \" + dimensions.height + \"px\";\n            }\n        }\n    };\n\n    function fluid(el, holder, src) {\n        var dimensions = holder.dimensions,\n            theme = holder.theme,\n            text = holder.text;\n        var dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n        theme = (text ? extend(theme, {\n            text: text\n        }) : theme);\n\n        var fluid = document.createElement(\"div\");\n\n        fluid.style.backgroundColor = theme.background;\n        fluid.style.color = theme.foreground;\n        fluid.className = el.className + \" holderjs-fluid\";\n        fluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\") > 0 ? \"\" : \"px\");\n        fluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\") > 0 ? \"\" : \"px\");\n        fluid.id = el.id;\n\n        el.style.width = 0;\n        el.style.height = 0;\n\n        if (theme.text) {\n            fluid.appendChild(document.createTextNode(theme.text))\n        }\n        else {\n            fluid.appendChild(document.createTextNode(dimensions_caption))\n            fluid_images.push(fluid);\n            setTimeout(fluid_update, 0);\n        }\n\n        el.parentNode.insertBefore(fluid, el.nextSibling)\n\n        if (window.jQuery) {\n            jQuery(function($) {\n                $(el).on(\"load\", function() {\n                    el.style.width = fluid.style.width;\n                    el.style.height = fluid.style.height;\n                    $(el).show();\n                    $(fluid).remove();\n                });\n            })\n        }\n    }\n\n    function fluid_update() {\n        for (i in fluid_images) {\n            if (!fluid_images.hasOwnProperty(i)) continue;\n            var el = fluid_images[i],\n                label = el.firstChild;\n\n            el.style.lineHeight = el.offsetHeight + \"px\";\n            label.data = el.offsetWidth + \"x\" + el.offsetHeight;\n        }\n    }\n\n    function parse_flags(flags, options) {\n\n        var ret = {\n            theme: settings.themes.gray\n        }, render = false;\n\n        for (sl = flags.length, j = 0; j < sl; j++) {\n            var flag = flags[j];\n            if (app.flags.dimensions.match(flag)) {\n                render = true;\n                ret.dimensions = app.flags.dimensions.output(flag);\n            }\n            else if (app.flags.fluid.match(flag)) {\n                render = true;\n                ret.dimensions = app.flags.fluid.output(flag);\n                ret.fluid = true;\n            }\n            else if (app.flags.colors.match(flag)) {\n                ret.theme = app.flags.colors.output(flag);\n            }\n            else if (options.themes[flag]) {\n                //If a theme is specified, it will override custom colors\n                ret.theme = options.themes[flag];\n            }\n            else if (app.flags.text.match(flag)) {\n                ret.text = app.flags.text.output(flag);\n            }\n            else if (app.flags.font.match(flag)) {\n                ret.font = app.flags.font.output(flag);\n            }\n            else if (app.flags.auto.match(flag)) {\n                ret.auto = true;\n            }\n        }\n\n        return render ? ret : false;\n\n    };\n\n    if (!canvas.getContext) {\n        fallback = true;\n    }\n    else {\n        if (canvas.toDataURL(\"image/png\").indexOf(\"data:image/png\") < 0) {\n            //Android doesn't support data URI\n            fallback = true;\n        }\n        else {\n            var ctx = canvas.getContext(\"2d\");\n        }\n    }\n\n    var fluid_images = [];\n\n    var settings = {\n        domain: \"holder.js\",\n        images: \"img\",\n        bgnodes: \".holderjs\",\n        themes: {\n            \"gray\": {\n                background: \"#eee\",\n                foreground: \"#aaa\",\n                size: 12\n            },\n            \"social\": {\n                background: \"#3a5a97\",\n                foreground: \"#fff\",\n                size: 12\n            },\n            \"industrial\": {\n                background: \"#434A52\",\n                foreground: \"#C2F200\",\n                size: 12\n            }\n        },\n        stylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}\"\n    };\n\n\n    app.flags = {\n        dimensions: {\n            regex: /^(\\d+)x(\\d+)$/,\n            output: function(val) {\n                var exec = this.regex.exec(val);\n                return {\n                    width: +exec[1],\n                    height: +exec[2]\n                }\n            }\n        },\n        fluid: {\n            regex: /^([0-9%]+)x([0-9%]+)$/,\n            output: function(val) {\n                var exec = this.regex.exec(val);\n                return {\n                    width: exec[1],\n                    height: exec[2]\n                }\n            }\n        },\n        colors: {\n            regex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n            output: function(val) {\n                var exec = this.regex.exec(val);\n                return {\n                    size: settings.themes.gray.size,\n                    foreground: \"#\" + exec[2],\n                    background: \"#\" + exec[1]\n                }\n            }\n        },\n        text: {\n            regex: /text\\:(.*)/,\n            output: function(val) {\n                return this.regex.exec(val)[1];\n            }\n        },\n        font: {\n            regex: /font\\:(.*)/,\n            output: function(val) {\n                return this.regex.exec(val)[1];\n            }\n        },\n        auto: {\n            regex: /^auto$/\n        }\n    }\n\n    for (var flag in app.flags) {\n        if (!app.flags.hasOwnProperty(flag)) continue;\n        app.flags[flag].match = function(val) {\n            return val.match(this.regex)\n        }\n    }\n\n    app.add_theme = function(name, theme) {\n        name != null && theme != null && (settings.themes[name] = theme);\n        return app;\n    };\n\n    app.add_image = function(src, el) {\n        var node = selector(el);\n        if (node.length) {\n            for (var i = 0, l = node.length; i < l; i++) {\n                var img = document.createElement(\"img\")\n                img.setAttribute(\"data-src\", src);\n                node[i].appendChild(img);\n            }\n        }\n        return app;\n    };\n\n    app.run = function(o) {\n        var options = extend(settings, o),\n            images = [];\n\n        if (options.images instanceof window.NodeList) {\n            imageNodes = options.images;\n        }\n        else if (options.images instanceof window.Node) {\n            imageNodes = [options.images];\n        }\n        else {\n            imageNodes = selector(options.images);\n        }\n\n        if (options.elements instanceof window.NodeList) {\n            bgnodes = options.bgnodes;\n        }\n        else if (options.bgnodes instanceof window.Node) {\n            bgnodes = [options.bgnodes];\n        }\n        else {\n            bgnodes = selector(options.bgnodes);\n        }\n\n        preempted = true;\n\n        for (i = 0, l = imageNodes.length; i < l; i++) images.push(imageNodes[i]);\n\n        var holdercss = document.getElementById(\"holderjs-style\");\n\n        if (!holdercss) {\n            holdercss = document.createElement(\"style\");\n            holdercss.setAttribute(\"id\", \"holderjs-style\");\n            holdercss.type = \"text/css\";\n            document.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n        }\n\n        if (holdercss.styleSheet) {\n            holdercss.styleSheet += options.stylesheet;\n        }\n        else {\n            holdercss.textContent += options.stylesheet;\n        }\n\n        var cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n        for (var l = bgnodes.length, i = 0; i < l; i++) {\n            var src = window.getComputedStyle(bgnodes[i], null).getPropertyValue(\"background-image\");\n            var flags = src.match(cssregex);\n            if (flags) {\n                var holder = parse_flags(flags[1].split(\"/\"), options);\n                if (holder) {\n                    render(\"background\", bgnodes[i], holder, src);\n                }\n            }\n        }\n\n        for (var l = images.length, i = 0; i < l; i++) {\n            var src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n            if (src != null && src.indexOf(options.domain) >= 0) {\n                var holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1).split(\"/\"), options);\n                if (holder) {\n                    if (holder.fluid) {\n                        fluid(images[i], holder, src);\n                    }\n                    else {\n                        render(\"image\", images[i], holder, src);\n                    }\n                }\n            }\n        }\n        return app;\n    };\n\n    contentLoaded(win, function() {\n        if (window.addEventListener) {\n            window.addEventListener(\"resize\", fluid_update, false);\n            window.addEventListener(\"orientationchange\", fluid_update, false);\n        }\n        else {\n            window.attachEvent(\"onresize\", fluid_update)\n        }\n        preempted || app.run();\n    });\n\n    if (typeof define === \"function\" && define.amd) {\n        define(\"Holder\", [], function() {\n            return app;\n        });\n    }"],[1," (app, win) {\n\nvar preempted = false,\nfallback = false,\ncanvas = document.createElement('canvas');\n\n//getElementsByClassName polyfill\ndocument.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\n\n//getComputedStyle polyfill\nwindow.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\n\n//http://javascript.nwbox.com/ContentLoaded by Diego Perini with modifications\nfunction contentLoaded(n,t){var l=\"complete\",s=\"readystatechange\",u=!1,h=u,c=!0,i=n.document,a=i.documentElement,e=i.addEventListener?\"addEventListener\":\"attachEvent\",v=i.addEventListener?\"removeEventListener\":\"detachEvent\",f=i.addEventListener?\"\":\"on\",r=function(e){(e.type!=s||i.readyState==l)&&((e.type==\"load\"?n:i)[v](f+e.type,r,u),!h&&(h=!0)&&t.call(n,null))},o=function(){try{a.doScroll(\"left\")}catch(n){setTimeout(o,50);return}r(\"poll\")};if(i.readyState==l)t.call(n,\"lazy\");else{if(i.createEventObject&&a.doScroll){try{c=!n.frameElement}catch(y){}c&&o()}i[e](f+\"DOMContentLoaded\",r,u),i[e](f+s,r,u),n[e](f+\"load\",r,u)}};\n\n//https://gist.github.com/991057 by Jed Schmidt with modifications\nfunction selector(a){\n    a=a.match(/^(\\W)?(.*)/);var b=document[\"getElement\"+(a[1]?a[1]==\"#\"?\"ById\":\"sByClassName\":\"sByTagName\")](a[2]);\n\tvar ret=[];\tb!=null&&(b.length?ret=b:b.length==0?ret=b:ret=[b]);\treturn ret;\n}\n\n//shallow object property extend\nfunction extend(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}\n\nfunction text_size(width, height, template) {\n\tvar dimension_arr = [height, width].sort();\n\tvar maxFactor = Math.round(dimension_arr[1] / 16),\n\t\tminFactor = Math.round(dimension_arr[0] / 16);\n\tvar text_height = Math.max(template.size, maxFactor);\n\treturn {\n\t\theight: text_height\n\t}\n}\n\nfunction draw(ctx, dimensions, template, ratio) {\n\tvar ts = text_size(dimensions.width, dimensions.height, template);\n\tvar text_height = ts.height;\n\tvar width = dimensions.width * ratio, height = dimensions.height * ratio;\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tctx.textAlign = \"center\";\n\tctx.textBaseline = \"middle\";\n\tctx.fillStyle = template.background;\n\tctx.fillRect(0, 0, width, height);\n\tctx.fillStyle = template.foreground;\n\tctx.font = \"bold \" + text_height + \"px sans-serif\";\n\tvar text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n\tif (ctx.measureText(text).width / width > 1) {\n\t\ttext_height = template.size / (ctx.measureText(text).width / width);\n\t}\n\tctx.font = \"bold \" + (text_height * ratio) + \"px sans-serif\";\n\tctx.fillText(text, (width / 2), (height / 2), width);\n\treturn canvas.toDataURL(\"image/png\");\n}\n\nfunction render(mode, el, holder, src) {\n\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar ratio = 1;\n\tif(window.devicePixelRatio && window.devicePixelRatio > 1){\n\t\tratio = window.devicePixelRatio;\n\t}\n\t\n\tif (mode == \"image\") {\n\t\tel.setAttribute(\"data-src\", src);\n\t\tel.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\t\tel.style.width = dimensions.width + \"px\";\n\t\tel.style.height = dimensions.height + \"px\";\n\n\t\tif (fallback) {\n\t\t\tel.style.backgroundColor = theme.background;\n\t\t}\n\t\telse{\n\t\t\tel.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n\t\t}\n\t} else {\n\t\tif (!fallback) {\n\t\t\tel.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n\t\t\tel.style.backgroundSize = dimensions.width+\"px \"+dimensions.height+\"px\";\n\t\t}\n\t}\n};\n\nfunction fluid(el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar fluid = document.createElement(\"table\");\n\tfluid.setAttribute(\"cellspacing\",0)\n\tfluid.setAttribute(\"cellpadding\",0)\n\tfluid.setAttribute(\"border\",0)\n\n\tvar row = document.createElement(\"tr\")\n\t\t.appendChild(document.createElement(\"td\")\n\t\t.appendChild(document.createTextNode(theme.text)));\n\n\tfluid.style.backgroundColor = theme.background;\n\tfluid.style.color = theme.foreground;\n\tfluid.className = el.className + \" holderjs-fluid\";\n\tfluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.id = el.id;\n\n\tvar frag = document.createDocumentFragment(),\n\t\ttbody = document.createElement(\"tbody\"),\n\t\ttr = document.createElement(\"tr\"),\n\t\ttd = document.createElement(\"td\");\n\t\ttr.appendChild(td);\n\t\ttbody.appendChild(tr);\n\t\tfrag.appendChild(tbody);\n\t\n\tif (theme.text) {\n\t\ttd.appendChild(document.createTextNode(theme.text))\n\t\tfluid.appendChild(frag);\n\t} else {\n\t\ttd.appendChild(document.createTextNode(dimensions_caption))\n\t\tfluid.appendChild(frag);\n\t\tfluid_images.push(fluid);\n\t\tsetTimeout(fluid_update, 0);\n\t}\n\t\n\tel.parentNode.replaceChild(fluid, el);\n}\n\nfunction fluid_update() {\n\tfor (i in fluid_images) {\n\t\tvar el = fluid_images[i];\n\t\tvar label = el.getElementsByTagName(\"td\")[0].firstChild;\n\t\tlabel.data = el.offsetWidth + \"x\" + el.offsetHeight;\n\t}\n}\n\nfunction parse_flags(flags, options) {\n\n\tvar ret = {\n\t\ttheme: settings.themes.gray\n\t}, render = false;\n\n\tfor (sl = flags.length, j = 0; j < sl; j++) {\n\t\tvar flag = flags[j];\n\t\tif (app.flags.dimensions.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.dimensions.output(flag);\n\t\t} else if (app.flags.fluid.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.fluid.output(flag);\n\t\t\tret.fluid = true;\n\t\t} else if (app.flags.colors.match(flag)) {\n\t\t\tret.theme = app.flags.colors.output(flag);\n\t\t} else if (options.themes[flag]) {\n\t\t\t//If a theme is specified, it will override custom colors\n\t\t\tret.theme = options.themes[flag];\n\t\t} else if (app.flags.text.match(flag)) {\n\t\t\tret.text = app.flags.text.output(flag);\n\t\t}\n\t}\n\n\treturn render ? ret : false;\n\n};\n\nif (!canvas.getContext) {\n\tfallback = true;\n} else {\n\tif (canvas.toDataURL(\"image/png\")\n\t\t.indexOf(\"data:image/png\") < 0) {\n\t\t//Android doesn't support data URI\n\t\tfallback = true;\n\t} else {\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t}\n}\n\nvar fluid_images = [];\n\nvar settings = {\n\tdomain: \"holder.js\",\n\timages: \"img\",\n\telements: \".holderjs\",\n\tthemes: {\n\t\t\"gray\": {\n\t\t\tbackground: \"#eee\",\n\t\t\tforeground: \"#aaa\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"social\": {\n\t\t\tbackground: \"#3a5a97\",\n\t\t\tforeground: \"#fff\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"industrial\": {\n\t\t\tbackground: \"#434A52\",\n\t\t\tforeground: \"#C2F200\",\n\t\t\tsize: 12\n\t\t}\n\t},\n\tstylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;border-collapse:collapse;border:0;vertical-align:middle;margin:0}\"\n};\n\n\napp.flags = {\n\tdimensions: {\n\t\tregex: /(\\d+)x(\\d+)/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: +exec[1],\n\t\t\t\theight: +exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tfluid: {\n\t\tregex: /([0-9%]+)x([0-9%]+)/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: exec[1],\n\t\t\t\theight: exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tcolors: {\n\t\tregex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t}\n\t\t}\n\t},\n\ttext: {\n\t\tregex: /text\\:(.*)/,\n\t\toutput: function (val) {\n\t\t\treturn this.regex.exec(val)[1];\n\t\t}\n\t}\n}\n\nfor (var flag in app.flags) {\n\tapp.flags[flag].match = function (val) {\n\t\treturn val.match(this.regex)\n\t}\n}\n\napp.add_theme = function (name, theme) {\n\tname != null && theme != null && (settings.themes[name] = theme);\n\treturn app;\n};\n\napp.add_image = function (src, el) {\n\tvar node = selector(el);\n\tif (node.length) {\n\t\tfor (var i = 0, l = node.length; i < l; i++) {\n\t\t\tvar img = document.createElement(\"img\")\n\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\tnode[i].appendChild(img);\n\t\t}\n\t}\n\treturn app;\n};\n\napp.run = function (o) {\n\tvar options = extend(settings, o),\n\t\timages_nodes = selector(options.images),\n\t\telements = selector(options.elements),\n\t\tpreempted = true,\n\t\timages = [];\n\n\tfor (i = 0, l = images_nodes.length; i < l; i++) images.push(images_nodes[i]);\n\n\tvar holdercss = document.createElement(\"style\");\n\tholdercss.type = \"text/css\";\n\tholdercss.styleSheet ? holdercss.styleSheet.cssText = options.stylesheet : holdercss.textContent = options.stylesheet;\n\tdocument.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n\n\tvar cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n\tfor (var l = elements.length, i = 0; i < l; i++) {\n\t\tvar src = window.getComputedStyle(elements[i], null)\n\t\t\t.getPropertyValue(\"background-image\");\n\t\tvar flags = src.match(cssregex);\n\t\tif (flags) {\n\t\t\tvar holder = parse_flags(flags[1].split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\trender(\"background\", elements[i], holder, src);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var l = images.length, i = 0; i < l; i++) {\n\t\tvar src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n\t\tif (src != null && src.indexOf(options.domain) >= 0) {\n\t\t\tvar holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1)\n\t\t\t\t.split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\tif (holder.fluid) {\n\t\t\t\t\tfluid(images[i], holder, src);\n\t\t\t\t} else {\n\t\t\t\t\trender(\"image\", images[i], holder, src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn app;\n};\n\ncontentLoaded(win, function () {\n\tif (window.addEventListener) {\n\t\twindow.addEventListener(\"resize\", fluid_update, false);\n\t\twindow.addEventListener(\"orientationchange\", fluid_update, false);\n\t} else {\n\t\twindow.attachEvent(\"onresize\", fluid_update)\n\t}\n\tpreempted || app.run();\n});"],[0,"\n\n})"]],"start1":250,"start2":250,"length1":15551,"length2":10252}]],"length":10520,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359929174796,"patch":[[{"diffs":[[0,"/*\n"],[-1,"\n"],[1," \n "],[0,"Holder -"],[-1," 1.6 -"],[0," cli"]],"start1":0,"start2":0,"length1":22,"length2":18},{"diffs":[[0,"holders\n"],[1," "],[0,"(c) 2012"]],"start1":38,"start2":38,"length1":16,"length2":17},{"diffs":[[0,"msky.co\n"],[-1,"\n"],[1," \n "],[0,"Provided"]],"start1":82,"start2":82,"length1":17,"length2":19},{"diffs":[[0,"NSE-2.0\n"],[1," "],[0,"Commerci"]],"start1":167,"start2":167,"length1":16,"length2":17},{"diffs":[[0,"bution.\n"],[1," "],[0,"\n*/\n\nvar"]],"start1":205,"start2":205,"length1":16,"length2":17},{"diffs":[[0,") {\n"],[-1,"\nvar preempted = false,\nfallback = false,\ncanvas = document.createElement('canvas');\n\n//getElementsByClassName polyfill\ndocument.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\n\n//getComputedStyle polyfill\nwindow.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\n\n"],[1,"    \n    "],[0,"//ht"]],"start1":265,"start2":265,"length1":892,"length2":17},{"diffs":[[0,"h modifications\n"],[1,"    "],[0,"function content"]],"start1":341,"start2":341,"length1":32,"length2":36},{"diffs":[[0,"r,u)}};\n"],[-1,"\n"],[1,"    \t\n\t"],[0,"//https:"]],"start1":981,"start2":981,"length1":17,"length2":23},{"diffs":[[0,"cations\n"],[1,"\t"],[0,"function"]],"start1":1055,"start2":1055,"length1":16,"length2":17},{"diffs":[[0,"tor(a){\n"],[-1,"    "],[1,"\t\t"],[0,"a=a.matc"]],"start1":1078,"start2":1078,"length1":20,"length2":18},{"diffs":[[0,"(a[2]);\n"],[1,"\t"],[0,"\tvar ret"]],"start1":1192,"start2":1192,"length1":16,"length2":17},{"diffs":[[0," ret=[];"],[1,"\n\t"],[0,"\tb!=null"]],"start1":1205,"start2":1205,"length1":16,"length2":18},{"diffs":[[0,"ret=[b])"],[-1,";"],[1,"\n\t"],[0,"\treturn "]],"start1":1259,"start2":1259,"length1":17,"length2":18},{"diffs":[[0,"et;\n"],[1,"\t"],[0,"}\n"],[-1,"\n//shallow "],[1,"\t\n\t//"],[0,"obje"]],"start1":1278,"start2":1278,"length1":21,"length2":16},{"diffs":[[0," extend\n"],[1,"\t"],[0,"function"]],"start1":1305,"start2":1305,"length1":16,"length2":17},{"diffs":[[0,"turn c}\n"],[-1,"\n"],[1,"\t\n\t"],[0,"function"]],"start1":1396,"start2":1396,"length1":17,"length2":19},{"diffs":[[0,"ion "],[-1,"text_size(width, height, template) {\n\tvar dimension_arr = [height, "],[1,"draw(canvas, dimensions, template) {\n\t\t\n\tif(!canvas.getContext){\n\t\treturn false;\n\t}\n\t\n\tvar ctx = canvas.getContext(\"2d\");\n\t\t\n\tvar dimension_arr = [dimensions.height, dimensions."],[0,"widt"]],"start1":1412,"start2":1412,"length1":75,"length2":185},{"diffs":[[0,"sort();\n"],[1,"\t\t\n"],[0,"\tvar max"]],"start1":1600,"start2":1600,"length1":16,"length2":19},{"diffs":[[0," / 16);\n"],[1,"\t\t\n"],[0,"\tvar tex"]],"start1":1704,"start2":1704,"length1":16,"length2":19},{"diffs":[[0,");\n\t"],[-1,"return {\n\t\theight: text_height\n\t}\n}\n\nfunction draw(ctx, dimensions, template, ratio) {\n\tvar ts = text_size(dimensions."],[1,"\t\n\tcanvas.setAttribute(\""],[0,"width"],[1,"\""],[0,", di"]],"start1":1767,"start2":1767,"length1":131,"length2":38},{"diffs":[[0,"ons."],[-1,"height, template);\n\tvar text_height = ts.height;\n\tvar width = dimensions.width * ratio, "],[1,"width);\n\tcanvas.setAttribute(\""],[0,"height"],[-1," ="],[1,"\","],[0," dim"]],"start1":1810,"start2":1810,"length1":104,"length2":46},{"diffs":[[0,"ight"],[-1," * ratio;\n\tcanvas.width = width;\n\tcanvas.height = height;"],[1,");\n"],[0,"\n\tct"]],"start1":1866,"start2":1866,"length1":65,"length2":11},{"diffs":[[0," 0, "],[-1,"width, "],[1,"dimensions.width, dimensions."],[0,"heig"]],"start1":1985,"start2":1985,"length1":15,"length2":37},{"diffs":[[0,"\";\n\t"],[-1,"var text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n\tif (ctx.measureText(text).width / width > 1) {\n\t\ttext_height = template.size / (ctx.measureText(text).width / width);\n\t}\n\tctx.font = \"bold \" + (text_height * ratio) + \"px sans-serif\";\n\tctx.fillText(text, (width / 2), (height / 2), width);\n\treturn canvas.toDataURL(\"image/png\");\n}\n\nfunction render(mode, el, holder, src) {\n\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar ratio = 1;\n\tif(window.devicePixelRatio && window.devicePixelRatio > 1){\n\t\tratio = window.devicePixelRatio;\n\t}\n\t\n\tif (mode == \"image\") {\n\t\tel.setAttribute(\"data-src\", src);\n\t\tel.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\t\tel.style.width = dimensions.width + \"px\";\n\t\tel.style.height = dimensions.height + \"px\";\n\n\t\tif (fallback) {\n\t\t\tel.style.backgroundColor = theme.background;\n\t\t}\n\t\telse{\n\t\t\tel.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n\t\t}\n\t} else {\n\t\tif (!fallback) {\n\t\t\tel.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n\t\t\tel.style.backgroundSize = dimensions.width+\"px \"+dimensions.height+\"px\";\n\t\t}\n\t}\n};\n\nfunction fluid(el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar fluid = document.createElement(\"table\");\n\tfluid.setAttribute(\"cellspacing\",0)\n\tfluid.setAttribute(\"cellpadding\",0)\n\tfluid.setAttribute(\"border\",0)\n\n\tvar row = document.createElement(\"tr\")\n\t\t.appendChild(document.createElement(\"td\")\n\t\t.appendChild(document.createTextNode(theme.text)));\n\n\tfluid.style.backgroundColor = theme.background;\n\tfluid.style.color = theme.foreground;\n\tfluid.className = el.className + \" holderjs-fluid\";\n\tfluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\")>0?\"\":\"px\");\n\tfluid.id = el.id;\n\n\tvar frag = document.createDocumentFragment(),\n\t\ttbody = document.createElement(\"tbody\"),\n\t\ttr = document.createElement(\"tr\"),\n\t\ttd = document.createElement(\"td\");\n\t\ttr.appendChild(td);\n\t\ttbody.appendChild(tr);\n\t\tfrag.appendChild(tbody);\n\t\n\tif (theme.text) {\n\t\ttd.appendChild(document.createTextNode(theme.text))\n\t\tfluid.appendChild(frag);\n\t} else {\n\t\ttd.appendChild(document.createTextNode(dimensions_caption))\n\t\tfluid.appendChild(frag);\n\t\tfluid_images.push(fluid);\n\t\tsetTimeout(fluid_update, 0);\n\t}\n\t\n\tel.parentNode.replaceChild(fluid, el);\n}\n\nfunction fluid_update() {\n\tfor (i in fluid_images) {\n\t\tvar el = fluid_images[i];\n\t\tvar label = el.getElementsByTagName(\"td\")[0].firstChild;\n\t\tlabel.data = el.offsetWidth + \"x\" + el.offsetHeight;\n\t}\n}\n\nfunction parse_flags(flags, options) {\n\n\tvar ret = {\n\t\ttheme: settings.themes.gray\n\t}, render = false;\n\n\tfor (sl = flags.length, j = 0; j < sl; j++) {\n\t\tvar flag = flags[j];\n\t\tif (app.flags.dimensions.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.dimensions.output(flag);\n\t\t} else if (app.flags.fluid.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.fluid.output(flag);\n\t\t\tret.fluid = true;\n\t\t} else if (app.flags.colors.match(flag)) {\n\t\t\tret.theme = app.flags.colors.output(flag);\n\t\t} else if (options.themes[flag]) {\n\t\t\t//If a theme is specified, it will override custom colors\n\t\t\tret.theme = options.themes[flag];\n\t\t} else if (app.flags.text.match(flag)) {\n\t\t\tret.text = app.flags.text.output(flag);\n\t\t}\n\t}\n\n\treturn render ? ret : false;\n\n};\n\nif (!canvas.getContext) {\n\tfallback = true;\n} else {\n\tif (canvas.toDataURL(\"image/png\")\n\t\t.indexOf(\"data:image/png\") < 0) {\n\t\t//Android doesn't support data URI\n\t\tfallback = true;\n\t} else {\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t}\n}\n\nvar fluid_images = [];\n\nvar settings = {\n\tdomain: \"holder.js\",\n\timages: \"img\",\n\telements: \".holderjs\",\n\tthemes: {\n\t\t\"gray\": {\n\t\t\tbackground: \"#eee\",\n\t\t\tforeground: \"#aaa\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"social\": {\n\t\t\tbackground: \"#3a5a97\",\n\t\t\tforeground: \"#fff\",\n\t\t\tsize: 12\n\t\t},\n\t\t\t\"industrial\": {\n\t\t\tbackground: \"#434A52\",\n\t\t\tforeground: \"#C2F200\",\n\t\t\tsize: 12\n\t\t}\n\t},\n\tstylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;border-collapse:collapse;border:0;vertical-align:middle;margin:0}\"\n};\n\n\napp.flags = {\n\tdimensions: {\n\t\tregex: /(\\d+)x(\\d+)/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: +exec[1],\n\t\t\t\theight: +exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tfluid: {\n\t\tregex: /([0-9%]+)x([0-9%]+)/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: exec[1],\n\t\t\t\theight: exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tcolors: {\n\t\tregex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t}\n\t\t}\n\t},\n\ttext: {\n\t\tregex: /text\\:(.*)/,\n\t\toutput: function (val) {\n\t\t\treturn this.regex.exec(val)[1];\n\t\t}\n\t}\n}\n\nfor (var flag in app.flags) {\n\tapp.flags[flag].match = function (val) {\n\t\treturn val.match(this.regex)\n\t}\n}\n\napp.add_theme = function (name, theme) {\n\tname != null && theme != null && (settings.themes[name] = theme);\n\treturn app;\n};\n\napp.add_image = function (src, el) {\n\tvar node = selector(el);\n\tif (node.length) {\n\t\tfor (var i = 0, l = node.length; i < l; i++) {\n\t\t\tvar img = document.createElement(\"img\")\n\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\tnode[i].appendChild(img);\n\t\t}\n\t}\n\treturn app;\n};\n\napp.run = function (o) {\n\tvar options = extend(settings, o),\n\t\timages_nodes = selector(options.images),\n\t\telements = selector(options.elements),\n\t\tpreempted = true,\n\t\timages = [];\n\n\tfor (i = 0, l = images_nodes.length; i < l; i++) images.push(images_nodes[i]);\n\n\tvar holdercss = document.createElement(\"style\");\n\tholdercss.type = \"text/css\";\n\tholdercss.styleSheet ? holdercss.styleSheet.cssText = options.stylesheet : holdercss.textContent = options.stylesheet;\n\tdocument.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n\n\tvar cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n\tfor (var l = elements.length, i = 0; i < l; i++) {\n\t\tvar src = window.getComputedStyle(elements[i], null)\n\t\t\t.getPropertyValue(\"background-image\");\n\t\tvar flags = src.match(cssregex);\n\t\tif (flags) {\n\t\t\tvar holder = parse_flags(flags[1].split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\trender(\"background\", elements[i], holder, src);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var l = images.length, i = 0; i < l; i++) {\n\t\tvar src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n\t\tif (src != null && src.indexOf(options.domain) >= 0) {\n\t\t\tvar holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1)\n\t\t\t\t.split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\tif (holder.fluid) {\n\t\t\t\t\tfluid(images[i], holder, src);\n\t\t\t\t} else {\n\t\t\t\t\trender(\"image\", images[i], holder, src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn app;\n};\n\ncontentLoaded(win, function () {\n\tif (window.addEventListener) {\n\t\twindow.addEventListener(\"resize\", fluid_update, false);\n\t\twindow.addEventListener(\"orientationchange\", fluid_update, false);\n\t} else {\n\t\twindow.attachEvent(\"onresize\", fluid_update)\n\t}\n\tpreempted || app.run();\n});\n\n})(Holder, window);\n"],[1,"\n\tvar text = dimensions.width + \"x\" + dimensions.height;\n\tif(Math.round(ctx.measureText(text).width) / dimensions.width > 1) {\n\t\ttext_height = Math.max(minFactor, template.size);\n\t}\n\tctx.font = \"bold \" + text_height + \"px sans-serif\";\n\tctx.fillText(text, (dimensions.width / 2), (dimensions.height / 2), dimensions.width);\n\treturn canvas.toDataURL(\"image/png\");\n\t}\n\t\n\tvar dimensions_regex = /([0-9]+)x([0-9]+)/;\n\tvar hex_regex = /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i;\n\tvar canvas = document.createElement('canvas');\n\tvar preempted = false;\n\t\n\tvar settings = {\n\t\tdomain: \"holder.js\",\n\t\timages: \"img\",\n\t\tthemes: {\n\t\t\t\"gray\": {\n\t\t\t\tbackground: \"#eee\",\n\t\t\t\tforeground: \"#aaa\",\n\t\t\t\tsize: 12\n\t\t\t},\n\t\t\t\"social\": {\n\t\t\t\tbackground: \"#3a5a97\",\n\t\t\t\tforeground: \"#fff\",\n\t\t\t\tsize: 12\n\t\t\t},\n\t\t\t\"industrial\": {\n\t\t\t\tbackground: \"#434A52\",\n\t\t\t\tforeground: \"#C2F200\",\n\t\t\t\tsize: 12\n\t\t\t}\n\t\t}\n\t}\n\tapp.add_theme = function (name, theme) {\n\t\tname != null && theme != null && (settings.themes[name] = theme);\n\t\treturn app;\n\t}\n\tapp.add_image = function (src, el) {\n\t\tvar node = selector(el);\n\t\tif(node.length) {\n\t\t\tfor(var i = 0, l = node.length; i < l; i++){\n\t\t\t\tvar img = document.createElement(\"img\")\n\t\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\t\tnode[i].appendChild(img);\n\t\t\t}\n\t\t}\n\t\treturn app;\n\t}\n\tapp.run = function (o) {\n\t\tvar options = extend(settings, o),\n\t\t\timages = selector(options.images),\n\t\t\tpreempted = true;\n\t\t\t\n\t\tfor(var l = images.length, i = 0; i < l; i++) {\n\t\t\tvar dimensions, theme = settings.themes.gray;\n\t\t\tsrc = images[i].getAttribute(\"data-src\") || images[i].getAttribute(\"src\");\n\t\t\tif( !! ~src.indexOf(options.domain)) {\n\t\t\t\tvar render = false;\n\t\t\t\tfor(var flags = src.substr(src.indexOf(options.domain) + options.domain.length + 1).split(\"/\"), sl = flags.length, j = 0; j < sl; j++) {\n\t\t\t\t\tif(flags[j].match(dimensions_regex)) {\n\t\t\t\t\t\tvar exec = dimensions_regex.exec(flags[j])\n\t\t\t\t\t\tdimensions = {\n\t\t\t\t\t\t\twidth: parseInt(exec[1]),\n\t\t\t\t\t\t\theight: parseInt(exec[2])\n\t\t\t\t\t\t}\n\t\t\t\t\t\trender = true;\n\t\t\t\t\t} else if(flags[j].match(hex_regex)) {\n\t\t\t\t\t\tvar exec = hex_regex.exec(flags[j]);\n\t\t\t\t\t\ttheme = {\n\t\t\t\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(options.themes[flags[j]]) {\n\t\t\t\t\t\ttheme = options.themes[flags[j]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(render){\n\t\t\t\t\timages[i].setAttribute(\"data-src\", src);\n\t\t\t\t\timages[i].setAttribute(\"src\", draw(canvas, dimensions, theme) || src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn app;\n\t}\n\tcontentLoaded(win, function () {\n\t\tpreempted || app.run()\n\t})\n\n})(Holder, window);"]],"start1":2115,"start2":2115,"length1":7475,"length2":2562}]],"length":4677,"saved":false}
{"ts":1359929315967,"patch":[[{"diffs":[[0,"/*\n"],[-1," \n "],[1,"\n"],[0,"Holder -"],[1," 1.9 -"],[0," cli"]],"start1":0,"start2":0,"length1":18,"length2":22},{"diffs":[[0,"ers\n"],[-1," "],[0,"(c) 2012"],[1,"-2013"],[0," Iva"]],"start1":46,"start2":46,"length1":17,"length2":21},{"diffs":[[0,"msky.co\n"],[-1," \n "],[1,"\n"],[0,"Provided"]],"start1":90,"start2":90,"length1":19,"length2":17},{"diffs":[[0,"NSE-2.0\n"],[-1," "],[0,"Commerci"]],"start1":173,"start2":173,"length1":17,"length2":16},{"diffs":[[0,"bution.\n"],[-1," "],[0,"\n*/\n\nvar"]],"start1":210,"start2":210,"length1":17,"length2":16},{"diffs":[[0,") {\n"],[-1,"    \n    "],[1,"\nvar preempted = false,\nfallback = false,\ncanvas = document.createElement('canvas');\n\n//getElementsByClassName polyfill\ndocument.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\n\n//getComputedStyle polyfill\nwindow.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\n\n"],[0,"//ht"]],"start1":269,"start2":269,"length1":17,"length2":892},{"diffs":[[0,"cations\n"],[-1,"    "],[0,"function"]],"start1":1228,"start2":1228,"length1":20,"length2":16},{"diffs":[[0,"}};\n"],[-1,"    \t\n\t"],[1,"\n"],[0,"//ht"]],"start1":1860,"start2":1860,"length1":15,"length2":9},{"diffs":[[0,"cations\n"],[-1,"\t"],[0,"function"]],"start1":1924,"start2":1924,"length1":17,"length2":16},{"diffs":[[0,"tor(a){\n"],[-1,"\t\t"],[1,"    "],[0,"a=a.matc"]],"start1":1946,"start2":1946,"length1":18,"length2":20},{"diffs":[[0,"(a[2]);\n"],[-1,"\t"],[0,"\tvar ret"]],"start1":2062,"start2":2062,"length1":17,"length2":16},{"diffs":[[0," ret=[];"],[-1,"\n\t"],[0,"\tb!=null"]],"start1":2074,"start2":2074,"length1":18,"length2":16},{"diffs":[[0,"ret=[b])"],[-1,"\n\t"],[1,";"],[0,"\treturn "]],"start1":2126,"start2":2126,"length1":18,"length2":17},{"diffs":[[0,"et;\n"],[-1,"\t"],[0,"}\n"],[-1,"\t\n\t//"],[1,"\n//shallow "],[0,"obje"]],"start1":2144,"start2":2144,"length1":16,"length2":21},{"diffs":[[0," extend\n"],[-1,"\t"],[0,"function"]],"start1":2176,"start2":2176,"length1":17,"length2":16},{"diffs":[[0," c}\n"],[-1,"\t\n\tfunction draw(canvas, dimensions, template) {\n\t\t\n\tif(!canvas.getContext){\n\t\treturn false;\n\t}\n\t\n\tvar ctx = canvas.getC"],[1,"\n//hasOwnProperty polyfill\nif (!Object.prototype.hasOwnProperty)\n\tObject.prototype.hasOwnProperty = function(prop) {\n\t\tvar proto = this.__proto__ || this.constructor.prototype;\n\t\treturn (prop in this) && (!(prop in proto) || proto[prop] !== this[prop]);\n\t}\n\nfuncti"],[0,"on"],[1," "],[0,"text"],[-1,"(\"2d\");\n\t\t\n\tvar dimension_arr = [dimensions.height, dimensions."],[1,"_size(width, height, template) {\n\tvar dimension_arr = [height, "],[0,"widt"]],"start1":2270,"start2":2270,"length1":197,"length2":342},{"diffs":[[0,"sort();\n"],[-1,"\t\t\n"],[0,"\tvar max"]],"start1":2615,"start2":2615,"length1":19,"length2":16},{"diffs":[[0," / 16);\n"],[-1,"\t\t\n"],[0,"\tvar tex"]],"start1":2716,"start2":2716,"length1":19,"length2":16},{"diffs":[[0,");\n\t"],[-1,"\t\n\tcanvas.setAttribute(\"width\", dimensions.width);\n\tcanvas.setAttribute(\"height\", dimensions.height);\n\n\tctx.textAlign = \"center\";\n\tctx.textBaseline = \"middle\";\n\tctx.fillStyle = template.background;\n\tctx.fillRect(0, 0, dimensions.width, dimensions.height);\n\tctx.fillStyle = template.foreground;\n\tctx.font = \"bold \" + text_height + \"px sans-serif\";\n\t\n\tvar text = dimensions.width + \"x\" + dimensions.height;\n\tif(Math.round(ctx.measureText(text).width) / dimensions.width > 1) {\n\t\ttext_height = Math.max(minFactor, template.size);\n\t}\n\tctx.font = \"bold \" + text_height + \"px sans-serif\";\n\tctx.fillText(text, (dimensions.width / 2), (dimensions.height / 2), dimensions.width);\n\treturn canvas.toDataURL(\"image/png\");\n\t}\n\t\n\tvar dimensions_regex = /([0-9]+)x([0-9]+)/;\n\tvar hex_regex = /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i;\n\tvar canvas = document.createElement('canvas');\n\tvar preempted = false;\n\t\n\tvar settings = {\n\t\tdomain: \"holder.js\",\n\t\timages: \"img\",\n\t\tthemes: {\n\t\t\t\"gray\": {\n\t\t\t\tbackground: \"#eee\",\n\t\t\t\tforeground: \"#aaa\",\n\t\t\t\tsize: 12\n\t\t\t},\n\t\t\t\"social\": {\n\t\t\t\tbackground: \"#3a5a97\",\n\t\t\t\tforeground: \"#fff\",\n\t\t\t\tsize: 12\n\t\t\t},\n\t\t\t\"industrial\": {\n\t\t\t\tbackground: \"#434A52\",\n\t\t\t\tforeground: \"#C2F200\",\n\t\t\t\tsize: 12\n\t\t\t}\n\t\t}\n\t}\n\tapp.add_theme = function (name, theme) {\n\t\tname != null && theme != null && (settings.themes[name] = theme);\n\t\treturn app;\n\t}\n\tapp.add_image = function (src, el) {\n\t\tvar node = selector(el);\n\t\tif(node.length) {\n\t\t\tfor(var i = 0, l = node.length; i < l; i++){\n\t\t\t\tvar img = document.createElement(\"img\")\n\t\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\t\tnode[i].appendChild(img);\n\t\t\t}\n\t\t}\n\t\treturn app;\n\t}\n\tapp.run = function (o) {\n\t\tvar options = extend(settings, o),\n\t\t\timages = selector(options.images),\n\t\t\tpreempted = true;\n\t\t\t\n\t\tfor(var l = images.length, i = 0; i < l; i++) {\n\t\t\tvar dimensions, theme = settings.themes.gray;\n\t\t\tsrc = images[i].getAttribute(\"data-src\") || images[i].getAttribute(\"src\");\n\t\t\tif( !! ~src.indexOf(options.domain)) {\n\t\t\t\tvar render = false;\n\t\t\t\tfor(var flags = src.substr(src.indexOf(options.domain) + options.domain.length + 1).split(\"/\"), sl = flags.length, j = 0; j < sl; j++) {\n\t\t\t\t\tif(flags[j].match(dimensions_regex)) {\n\t\t\t\t\t\tvar exec = dimensions_regex.exec(flags[j])\n\t\t\t\t\t\tdimensions = {\n\t\t\t\t\t\t\twidth: parseInt(exec[1]),\n\t\t\t\t\t\t\theight: parseInt(exec[2])\n\t\t\t\t\t\t}\n\t\t\t\t\t\trender = true;\n\t\t\t\t\t} else if(flags[j].match(hex_regex)) {\n\t\t\t\t\t\tvar exec = hex_regex.exec(flags[j]);\n\t\t\t\t\t\ttheme = {\n\t\t\t\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(options.themes[flags[j]]) {\n\t\t\t\t\t\ttheme = options.themes[flags[j]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(render){\n\t\t\t\t\timages[i].setAttribute(\"data-src\", src);\n\t\t\t\t\timages[i].setAttribute(\"src\", draw(canvas, dimensions, theme) || src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn app;\n\t}\n\tcontentLoaded(win, function () {\n\t\tpreempted || app.run()\n\t})\n\n})(Holder, window);"],[1,"return {\n\t\theight: text_height\n\t}\n}\n\nfunction draw(ctx, dimensions, template, ratio) {\n\tvar ts = text_size(dimensions.width, dimensions.height, template);\n\tvar text_height = ts.height;\n\tvar width = dimensions.width * ratio,\n\t\theight = dimensions.height * ratio;\n\tvar font = template.font ? template.font : \"sans-serif\";\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tctx.textAlign = \"center\";\n\tctx.textBaseline = \"middle\";\n\tctx.fillStyle = template.background;\n\tctx.fillRect(0, 0, width, height);\n\tctx.fillStyle = template.foreground;\n\tctx.font = \"bold \" + text_height + \"px \" + font;\n\tvar text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n\tif (ctx.measureText(text).width / width > 1) {\n\t\ttext_height = template.size / (ctx.measureText(text).width / width);\n\t}\n\t//Resetting font size if necessary\n\tctx.font = \"bold \" + (text_height * ratio) + \"px \" + font;\n\tctx.fillText(text, (width / 2), (height / 2), width);\n\treturn canvas.toDataURL(\"image/png\");\n}\n\nfunction render(mode, el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text ? decodeURIComponent(holder.text) : holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\t\t\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\ttheme = (holder.font ? extend(theme, {\n\t\tfont: holder.font\n\t}) : theme);\n\n\tif (mode == \"image\") {\n\t\tel.setAttribute(\"data-src\", src);\n\t\tel.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\n\t\tif (fallback || !holder.auto) {\n\t\t\tel.style.width = dimensions.width + \"px\";\n\t\t\tel.style.height = dimensions.height + \"px\";\n\t\t}\n\n\t\tif (fallback) {\n\t\t\tel.style.backgroundColor = theme.background;\n\n\t\t} else {\n\t\t\tel.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n\t\t}\n\t} else {\n\t\tif (!fallback) {\n\t\t\tel.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n\t\t\tel.style.backgroundSize = dimensions.width + \"px \" + dimensions.height + \"px\";\n\t\t}\n\t}\n};\n\nfunction fluid(el, holder, src) {\n\tvar dimensions = holder.dimensions,\n\t\ttheme = holder.theme,\n\t\ttext = holder.text;\n\tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n\ttheme = (text ? extend(theme, {\n\t\ttext: text\n\t}) : theme);\n\n\tvar fluid = document.createElement(\"div\");\n\n\tif (el.fluidRef) {\n\t\tfluid = el.fluidRef;\n\t}\n\n\tfluid.style.backgroundColor = theme.background;\n\tfluid.style.color = theme.foreground;\n\tfluid.className = el.className + \" holderjs-fluid\";\n\tfluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\") > 0 ? \"\" : \"px\");\n\tfluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\") > 0 ? \"\" : \"px\");\n\tfluid.id = el.id;\n\n\tel.style.width = 0;\n\tel.style.height = 0;\n\n\tif (!el.fluidRef) {\n\n\t\tif (theme.text) {\n\t\t\tfluid.appendChild(document.createTextNode(theme.text))\n\t\t} else {\n\t\t\tfluid.appendChild(document.createTextNode(dimensions_caption))\n\t\t\tfluid_images.push(fluid);\n\t\t\tsetTimeout(fluid_update, 0);\n\t\t}\n\n\t}\n\n\tel.fluidRef = fluid;\n\tel.parentNode.insertBefore(fluid, el.nextSibling)\n\n\tif (window.jQuery) {\n\t\tjQuery(function ($) {\n\t\t\t$(el).on(\"load\", function () {\n\t\t\t\tel.style.width = fluid.style.width;\n\t\t\t\tel.style.height = fluid.style.height;\n\t\t\t\t$(el).show();\n\t\t\t\t$(fluid).remove();\n\t\t\t});\n\t\t})\n\t}\n}\n\nfunction fluid_update() {\n\tfor (i in fluid_images) {\n\t\tif (!fluid_images.hasOwnProperty(i)) continue;\n\t\tvar el = fluid_images[i],\n\t\t\tlabel = el.firstChild;\n\n\t\tel.style.lineHeight = el.offsetHeight + \"px\";\n\t\tlabel.data = el.offsetWidth + \"x\" + el.offsetHeight;\n\t}\n}\n\nfunction parse_flags(flags, options) {\n\n\tvar ret = {\n\t\ttheme: settings.themes.gray\n\t}, render = false;\n\n\tfor (sl = flags.length, j = 0; j < sl; j++) {\n\t\tvar flag = flags[j];\n\t\tif (app.flags.dimensions.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.dimensions.output(flag);\n\t\t} else if (app.flags.fluid.match(flag)) {\n\t\t\trender = true;\n\t\t\tret.dimensions = app.flags.fluid.output(flag);\n\t\t\tret.fluid = true;\n\t\t} else if (app.flags.colors.match(flag)) {\n\t\t\tret.theme = app.flags.colors.output(flag);\n\t\t} else if (options.themes[flag]) {\n\t\t\t//If a theme is specified, it will override custom colors\n\t\t\tret.theme = options.themes[flag];\n\t\t} else if (app.flags.text.match(flag)) {\n\t\t\tret.text = app.flags.text.output(flag);\n\t\t} else if (app.flags.font.match(flag)) {\n\t\t\tret.font = app.flags.font.output(flag);\n\t\t} else if (app.flags.auto.match(flag)) {\n\t\t\tret.auto = true;\n\t\t}\n\t}\n\n\treturn render ? ret : false;\n\n};\n\n\n\nif (!canvas.getContext) {\n\tfallback = true;\n} else {\n\tif (canvas.toDataURL(\"image/png\")\n\t\t.indexOf(\"data:image/png\") < 0) {\n\t\t//Android doesn't support data URI\n\t\tfallback = true;\n\t} else {\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t}\n}\n\nvar dpr = 1, bsr = 1;\n\t\nif(!fallback){\n    dpr = window.devicePixelRatio || 1,\n    bsr = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n}\n\nvar ratio = dpr / bsr;\n\nvar fluid_images = [];\n\nvar settings = {\n\tdomain: \"holder.js\",\n\timages: \"img\",\n\tbgnodes: \".holderjs\",\n\tthemes: {\n\t\t\"gray\": {\n\t\t\tbackground: \"#eee\",\n\t\t\tforeground: \"#aaa\",\n\t\t\tsize: 12\n\t\t},\n\t\t\"social\": {\n\t\t\tbackground: \"#3a5a97\",\n\t\t\tforeground: \"#fff\",\n\t\t\tsize: 12\n\t\t},\n\t\t\"industrial\": {\n\t\t\tbackground: \"#434A52\",\n\t\t\tforeground: \"#C2F200\",\n\t\t\tsize: 12\n\t\t}\n\t},\n\tstylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}\"\n};\n\n\napp.flags = {\n\tdimensions: {\n\t\tregex: /^(\\d+)x(\\d+)$/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: +exec[1],\n\t\t\t\theight: +exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tfluid: {\n\t\tregex: /^([0-9%]+)x([0-9%]+)$/,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\twidth: exec[1],\n\t\t\t\theight: exec[2]\n\t\t\t}\n\t\t}\n\t},\n\tcolors: {\n\t\tregex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n\t\toutput: function (val) {\n\t\t\tvar exec = this.regex.exec(val);\n\t\t\treturn {\n\t\t\t\tsize: settings.themes.gray.size,\n\t\t\t\tforeground: \"#\" + exec[2],\n\t\t\t\tbackground: \"#\" + exec[1]\n\t\t\t}\n\t\t}\n\t},\n\ttext: {\n\t\tregex: /text\\:(.*)/,\n\t\toutput: function (val) {\n\t\t\treturn this.regex.exec(val)[1];\n\t\t}\n\t},\n\tfont: {\n\t\tregex: /font\\:(.*)/,\n\t\toutput: function (val) {\n\t\t\treturn this.regex.exec(val)[1];\n\t\t}\n\t},\n\tauto: {\n\t\tregex: /^auto$/\n\t}\n}\n\nfor (var flag in app.flags) {\n\tif (!app.flags.hasOwnProperty(flag)) continue;\n\tapp.flags[flag].match = function (val) {\n\t\treturn val.match(this.regex)\n\t}\n}\n\napp.add_theme = function (name, theme) {\n\tname != null && theme != null && (settings.themes[name] = theme);\n\treturn app;\n};\n\napp.add_image = function (src, el) {\n\tvar node = selector(el);\n\tif (node.length) {\n\t\tfor (var i = 0, l = node.length; i < l; i++) {\n\t\t\tvar img = document.createElement(\"img\")\n\t\t\timg.setAttribute(\"data-src\", src);\n\t\t\tnode[i].appendChild(img);\n\t\t}\n\t}\n\treturn app;\n};\n\napp.run = function (o) {\n\tvar options = extend(settings, o),\n\t    images = [], imageNodes = [], bgnodes = [];\n\t    \n\tif(typeof(options.images) == \"string\"){\n\t    imageNodes = selector(options.images);\n\t}\n\telse if (window.NodeList && options.images instanceof window.NodeList) {\n\t\timageNodes = options.images;\n\t} else if (window.Node && options.images instanceof window.Node) {\n\t\timageNodes = [options.images];\n\t}\n\n\tif(typeof(options.bgnodes) == \"string\"){\n\t    bgnodes = selector(options.bgnodes);\n\t} else\tif (window.NodeList && options.elements instanceof window.NodeList) {\n\t\tbgnodes = options.bgnodes;\n\t} else if (window.Node && options.bgnodes instanceof window.Node) {\n\t\tbgnodes = [options.bgnodes];\n\t}\n\n\tpreempted = true;\n\n\tfor (i = 0, l = imageNodes.length; i < l; i++) images.push(imageNodes[i]);\n\n\tvar holdercss = document.getElementById(\"holderjs-style\");\n\tif (!holdercss) {\n\t\tholdercss = document.createElement(\"style\");\n\t\tholdercss.setAttribute(\"id\", \"holderjs-style\");\n\t\tholdercss.type = \"text/css\";\n\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n\t}\n\t\n\tif (!options.nocss) {\n\t    if (holdercss.styleSheet) {\n\t\t    holdercss.styleSheet.cssText += options.stylesheet;\n\t    } else {\n\t\t    holdercss.appendChild(document.createTextNode(options.stylesheet));\n\t    }\n\t}\n\n\t\n\n\tvar cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n\tfor (var l = bgnodes.length, i = 0; i < l; i++) {\n\t\tvar src = window.getComputedStyle(bgnodes[i], null)\n\t\t\t.getPropertyValue(\"background-image\");\n\t\tvar flags = src.match(cssregex);\n\t\tif (flags) {\n\t\t\tvar holder = parse_flags(flags[1].split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\trender(\"background\", bgnodes[i], holder, src);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (l = images.length, i = 0; i < l; i++) {\n\t    \n\t\tvar attr_src = attr_data_src = src = null;\n\t\t\n\t\ttry{\n\t\t    attr_src = images[i].getAttribute(\"src\");\n\t\t    attr_datasrc = images[i].getAttribute(\"data-src\");\n\t\t}catch(e){}\n\t\t\t\t\n\t\tif (attr_datasrc == null && !! attr_src && attr_src.indexOf(options.domain) >= 0) {\n\t\t\tsrc = attr_src;\n\t\t} else if ( !! attr_datasrc && attr_datasrc.indexOf(options.domain) >= 0) {\n\t\t\tsrc = attr_datasrc;\n\t\t}\n\t\t\n\t\tif (src) {\n\t\t\tvar holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1)\n\t\t\t\t.split(\"/\"), options);\n\t\t\tif (holder) {\n\t\t\t\tif (holder.fluid) {\n\t\t\t\t\tfluid(images[i], holder, src);\n\t\t\t\t} else {\n\t\t\t\t\trender(\"image\", images[i], holder, src);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn app;\n};\n\ncontentLoaded(win, function () {\n\tif (window.addEventListener) {\n\t\twindow.addEventListener(\"resize\", fluid_update, false);\n\t\twindow.addEventListener(\"orientationchange\", fluid_update, false);\n\t} else {\n\t\twindow.attachEvent(\"onresize\", fluid_update)\n\t}\n\tpreempted || app.run();\n});\n\nif (typeof define === \"function\" && define.amd) {\n\tdefine(\"Holder\", [], function () {\n\t\treturn app;\n\t});\n}\n\n})(Holder, window);\n"]],"start1":2776,"start2":2776,"length1":2910,"length2":9771}]],"length":12547,"saved":false}
